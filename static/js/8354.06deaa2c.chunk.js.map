{"version":3,"file":"static/js/8354.06deaa2c.chunk.js","mappings":"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","sources":["../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/unit/formatEther.js","../node_modules/@web3-onboard/core/node_modules/@adraffy/ens-normalize/dist/index.mjs","../node_modules/@web3-onboard/core/node_modules/viem/_esm/constants/abis.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/abi/formatAbiItem.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/errors/abi.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/encoding/fromBytes.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/abi/encodeAbiParameters.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/abi/decodeAbiParameters.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/hash/hashSignature.js","../node_modules/@web3-onboard/core/node_modules/abitype/dist/esm/human-readable/formatAbiParameter.js","../node_modules/@web3-onboard/core/node_modules/abitype/dist/esm/regex.js","../node_modules/@web3-onboard/core/node_modules/abitype/dist/esm/human-readable/formatAbiParameters.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/hash/toSignature.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/hash/normalizeSignature.js","../node_modules/@web3-onboard/core/node_modules/abitype/dist/esm/human-readable/formatAbiItem.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/hash/toSignatureHash.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/hash/toEventSelector.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/hash/toFunctionSelector.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/abi/getAbiItem.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/abi/decodeFunctionResult.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/abi/prepareEncodeFunctionData.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/abi/encodeFunctionData.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/chain/getChainContractAddress.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/constants/solidity.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/accounts/utils/parseAccount.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/abi/decodeErrorResult.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/stringify.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/abi/formatAbiItemWithArgs.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/errors/stateOverride.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/errors/contract.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/ens/errors.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/ens/encodedLabelToLabelhash.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/ens/namehash.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/ens/encodeLabelhash.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/ens/labelhash.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/ens/packetToBytes.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/getAction.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/errors/request.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/errors/rpc.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/errors/getContractError.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/constants/contract.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/errors/getCallError.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/errors/getNodeError.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/formatters/extract.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/promise/createBatchScheduler.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/stateOverride.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/actions/public/call.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/transaction/assertRequest.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/actions/public/readContract.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/errors/ens.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/ens/avatar/utils.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/ens/avatar/parseAvatarRecord.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/actions/ens/getEnsText.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/utils/ens/normalize.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/actions/ens/getEnsAddress.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/actions/ens/getEnsAvatar.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/actions/ens/getEnsName.js","../node_modules/@web3-onboard/core/node_modules/viem/_esm/actions/ens/getEnsResolver.js"],"sourcesContent":["import { etherUnits } from '../../constants/unit.js';\nimport { formatUnits } from './formatUnits.js';\n/**\n * Converts numerical wei to a string representation of ether.\n *\n * - Docs: https://viem.sh/docs/utilities/formatEther\n *\n * @example\n * import { formatEther } from 'viem'\n *\n * formatEther(1000000000000000000n)\n * // '1'\n */\nexport function formatEther(wei, unit = 'wei') {\n    return formatUnits(wei, etherUnits[unit]);\n}\n//# sourceMappingURL=formatEther.js.map","// created 2023-09-12T22:05:14.211Z\n// compressed base64-encoded blob for include-ens data\n// source: https://github.com/adraffy/ens-normalize.js/blob/main/src/make.js\n// see: https://github.com/adraffy/ens-normalize.js#security\n// SHA-256: 0565ed049b9cf1614bb9e11ba7d8ac6a6fb96c893253d890f7e2b2884b9ded32\nvar COMPRESSED$1 = 'AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI';\nconst FENCED = new Map([[8217,\"apostrophe\"],[8260,\"fraction slash\"],[12539,\"middle dot\"]]);\nconst NSM_MAX = 4;\n\nfunction decode_arithmetic(bytes) {\r\n\tlet pos = 0;\r\n\tfunction u16() { return (bytes[pos++] << 8) | bytes[pos++]; }\r\n\t\r\n\t// decode the frequency table\r\n\tlet symbol_count = u16();\r\n\tlet total = 1;\r\n\tlet acc = [0, 1]; // first symbol has frequency 1\r\n\tfor (let i = 1; i < symbol_count; i++) {\r\n\t\tacc.push(total += u16());\r\n\t}\r\n\r\n\t// skip the sized-payload that the last 3 symbols index into\r\n\tlet skip = u16();\r\n\tlet pos_payload = pos;\r\n\tpos += skip;\r\n\r\n\tlet read_width = 0;\r\n\tlet read_buffer = 0; \r\n\tfunction read_bit() {\r\n\t\tif (read_width == 0) {\r\n\t\t\t// this will read beyond end of buffer\r\n\t\t\t// but (undefined|0) => zero pad\r\n\t\t\tread_buffer = (read_buffer << 8) | bytes[pos++];\r\n\t\t\tread_width = 8;\r\n\t\t}\r\n\t\treturn (read_buffer >> --read_width) & 1;\r\n\t}\r\n\r\n\tconst N = 31;\r\n\tconst FULL = 2**N;\r\n\tconst HALF = FULL >>> 1;\r\n\tconst QRTR = HALF >> 1;\r\n\tconst MASK = FULL - 1;\r\n\r\n\t// fill register\r\n\tlet register = 0;\r\n\tfor (let i = 0; i < N; i++) register = (register << 1) | read_bit();\r\n\r\n\tlet symbols = [];\r\n\tlet low = 0;\r\n\tlet range = FULL; // treat like a float\r\n\twhile (true) {\r\n\t\tlet value = Math.floor((((register - low + 1) * total) - 1) / range);\r\n\t\tlet start = 0;\r\n\t\tlet end = symbol_count;\r\n\t\twhile (end - start > 1) { // binary search\r\n\t\t\tlet mid = (start + end) >>> 1;\r\n\t\t\tif (value < acc[mid]) {\r\n\t\t\t\tend = mid;\r\n\t\t\t} else {\r\n\t\t\t\tstart = mid;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (start == 0) break; // first symbol is end mark\r\n\t\tsymbols.push(start);\r\n\t\tlet a = low + Math.floor(range * acc[start]   / total);\r\n\t\tlet b = low + Math.floor(range * acc[start+1] / total) - 1;\r\n\t\twhile (((a ^ b) & HALF) == 0) {\r\n\t\t\tregister = (register << 1) & MASK | read_bit();\r\n\t\t\ta = (a << 1) & MASK;\r\n\t\t\tb = (b << 1) & MASK | 1;\r\n\t\t}\r\n\t\twhile (a & ~b & QRTR) {\r\n\t\t\tregister = (register & HALF) | ((register << 1) & (MASK >>> 1)) | read_bit();\r\n\t\t\ta = (a << 1) ^ HALF;\r\n\t\t\tb = ((b ^ HALF) << 1) | HALF | 1;\r\n\t\t}\r\n\t\tlow = a;\r\n\t\trange = 1 + b - a;\r\n\t}\r\n\tlet offset = symbol_count - 4;\r\n\treturn symbols.map(x => { // index into payload\r\n\t\tswitch (x - offset) {\r\n\t\t\tcase 3: return offset + 0x10100 + ((bytes[pos_payload++] << 16) | (bytes[pos_payload++] << 8) | bytes[pos_payload++]);\r\n\t\t\tcase 2: return offset + 0x100 + ((bytes[pos_payload++] << 8) | bytes[pos_payload++]);\r\n\t\t\tcase 1: return offset + bytes[pos_payload++];\r\n\t\t\tdefault: return x - 1;\r\n\t\t}\r\n\t});\r\n}\t\r\n\r\n// returns an iterator which returns the next symbol\r\nfunction read_payload(v) {\r\n\tlet pos = 0;\r\n\treturn () => v[pos++];\r\n}\r\nfunction read_compressed_payload(s) {\r\n\treturn read_payload(decode_arithmetic(unsafe_atob(s)));\r\n}\r\n\r\n// unsafe in the sense:\r\n// expected well-formed Base64 w/o padding \r\n// 20220922: added for https://github.com/adraffy/ens-normalize.js/issues/4\r\nfunction unsafe_atob(s) {\r\n\tlet lookup = [];\r\n\t[...'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'].forEach((c, i) => lookup[c.charCodeAt(0)] = i);\r\n\tlet n = s.length;\r\n\tlet ret = new Uint8Array((6 * n) >> 3);\r\n\tfor (let i = 0, pos = 0, width = 0, carry = 0; i < n; i++) {\r\n\t\tcarry = (carry << 6) | lookup[s.charCodeAt(i)];\r\n\t\twidth += 6;\r\n\t\tif (width >= 8) {\r\n\t\t\tret[pos++] = (carry >> (width -= 8));\r\n\t\t}\r\n\t}\r\n\treturn ret;\r\n}\r\n\r\n// eg. [0,1,2,3...] => [0,-1,1,-2,...]\r\nfunction signed(i) { \r\n\treturn (i & 1) ? (~i >> 1) : (i >> 1);\r\n}\r\n\r\nfunction read_deltas(n, next) {\r\n\tlet v = Array(n);\r\n\tfor (let i = 0, x = 0; i < n; i++) v[i] = x += signed(next());\r\n\treturn v;\r\n}\r\n\r\n// [123][5] => [0 3] [1 1] [0 0]\r\nfunction read_sorted(next, prev = 0) {\r\n\tlet ret = [];\r\n\twhile (true) {\r\n\t\tlet x = next();\r\n\t\tlet n = next();\r\n\t\tif (!n) break;\r\n\t\tprev += x;\r\n\t\tfor (let i = 0; i < n; i++) {\r\n\t\t\tret.push(prev + i);\r\n\t\t}\r\n\t\tprev += n + 1;\r\n\t}\r\n\treturn ret;\r\n}\r\n\r\nfunction read_sorted_arrays(next) {\r\n\treturn read_array_while(() => { \r\n\t\tlet v = read_sorted(next);\r\n\t\tif (v.length) return v;\r\n\t});\r\n}\r\n\r\n// returns map of x => ys\r\nfunction read_mapped(next) {\r\n\tlet ret = [];\r\n\twhile (true) {\r\n\t\tlet w = next();\r\n\t\tif (w == 0) break;\r\n\t\tret.push(read_linear_table(w, next));\r\n\t}\r\n\twhile (true) {\r\n\t\tlet w = next() - 1;\r\n\t\tif (w < 0) break;\r\n\t\tret.push(read_replacement_table(w, next));\r\n\t}\r\n\treturn ret.flat();\r\n}\r\n\r\n// read until next is falsy\r\n// return array of read values\r\nfunction read_array_while(next) {\r\n\tlet v = [];\r\n\twhile (true) {\r\n\t\tlet x = next(v.length);\r\n\t\tif (!x) break;\r\n\t\tv.push(x);\r\n\t}\r\n\treturn v;\r\n}\r\n\r\n// read w columns of length n\r\n// return as n rows of length w\r\nfunction read_transposed(n, w, next) {\r\n\tlet m = Array(n).fill().map(() => []);\r\n\tfor (let i = 0; i < w; i++) {\r\n\t\tread_deltas(n, next).forEach((x, j) => m[j].push(x));\r\n\t}\r\n\treturn m;\r\n}\r\n \r\n// returns [[x, ys], [x+dx, ys+dy], [x+2*dx, ys+2*dy], ...]\r\n// where dx/dy = steps, n = run size, w = length of y\r\nfunction read_linear_table(w, next) {\r\n\tlet dx = 1 + next();\r\n\tlet dy = next();\r\n\tlet vN = read_array_while(next);\r\n\tlet m = read_transposed(vN.length, 1+w, next);\r\n\treturn m.flatMap((v, i) => {\r\n\t\tlet [x, ...ys] = v;\r\n\t\treturn Array(vN[i]).fill().map((_, j) => {\r\n\t\t\tlet j_dy = j * dy;\r\n\t\t\treturn [x + j * dx, ys.map(y => y + j_dy)];\r\n\t\t});\r\n\t});\r\n}\r\n\r\n// return [[x, ys...], ...]\r\n// where w = length of y\r\nfunction read_replacement_table(w, next) { \r\n\tlet n = 1 + next();\r\n\tlet m = read_transposed(n, 1+w, next);\r\n\treturn m.map(v => [v[0], v.slice(1)]);\r\n}\r\n\r\n\r\nfunction read_trie(next) {\r\n\tlet ret = [];\r\n\tlet sorted = read_sorted(next); \r\n\texpand(decode([]), []);\r\n\treturn ret; // not sorted\r\n\tfunction decode(Q) { // characters that lead into this node\r\n\t\tlet S = next(); // state: valid, save, check\r\n\t\tlet B = read_array_while(() => { // buckets leading to new nodes\r\n\t\t\tlet cps = read_sorted(next).map(i => sorted[i]);\r\n\t\t\tif (cps.length) return decode(cps);\r\n\t\t});\r\n\t\treturn {S, B, Q};\r\n\t}\r\n\tfunction expand({S, B}, cps, saved) {\r\n\t\tif (S & 4 && saved === cps[cps.length-1]) return;\r\n\t\tif (S & 2) saved = cps[cps.length-1];\r\n\t\tif (S & 1) ret.push(cps); \r\n\t\tfor (let br of B) {\r\n\t\t\tfor (let cp of br.Q) {\r\n\t\t\t\texpand(br, [...cps, cp], saved);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\n\nfunction hex_cp(cp) {\r\n\treturn cp.toString(16).toUpperCase().padStart(2, '0');\r\n}\r\n\r\nfunction quote_cp(cp) {\r\n\treturn `{${hex_cp(cp)}}`; // raffy convention: like \"\\u{X}\" w/o the \"\\u\"\r\n}\r\n\r\n/*\r\nexport function explode_cp(s) {\r\n\treturn [...s].map(c => c.codePointAt(0));\r\n}\r\n*/\r\nfunction explode_cp(s) { // this is about 2x faster\r\n\tlet cps = [];\r\n\tfor (let pos = 0, len = s.length; pos < len; ) {\r\n\t\tlet cp = s.codePointAt(pos);\r\n\t\tpos += cp < 0x10000 ? 1 : 2;\r\n\t\tcps.push(cp);\r\n\t}\r\n\treturn cps;\r\n}\r\n\r\nfunction str_from_cps(cps) {\r\n\tconst chunk = 4096;\r\n\tlet len = cps.length;\r\n\tif (len < chunk) return String.fromCodePoint(...cps);\r\n\tlet buf = [];\r\n\tfor (let i = 0; i < len; ) {\r\n\t\tbuf.push(String.fromCodePoint(...cps.slice(i, i += chunk)));\r\n\t}\r\n\treturn buf.join('');\r\n}\r\n\r\nfunction compare_arrays(a, b) {\r\n\tlet n = a.length;\r\n\tlet c = n - b.length;\r\n\tfor (let i = 0; c == 0 && i < n; i++) c = a[i] - b[i];\r\n\treturn c;\r\n}\n\n// created 2023-09-12T22:05:14.211Z\n// compressed base64-encoded blob for include-nf data\n// source: https://github.com/adraffy/ens-normalize.js/blob/main/src/make.js\n// see: https://github.com/adraffy/ens-normalize.js#security\n// SHA-256: a974b6f8541fc29d919bc85118af0a44015851fab5343f8679cb31be2bdb209e\nvar COMPRESSED = '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';\n\n// https://unicode.org/reports/tr15/\r\n// for reference implementation\r\n// see: /derive/nf.js\r\n\r\n\r\n// algorithmic hangul\r\n// https://www.unicode.org/versions/Unicode15.0.0/ch03.pdf (page 144)\r\nconst S0 = 0xAC00;\r\nconst L0 = 0x1100;\r\nconst V0 = 0x1161;\r\nconst T0 = 0x11A7;\r\nconst L_COUNT = 19;\r\nconst V_COUNT = 21;\r\nconst T_COUNT = 28;\r\nconst N_COUNT = V_COUNT * T_COUNT;\r\nconst S_COUNT = L_COUNT * N_COUNT;\r\nconst S1 = S0 + S_COUNT;\r\nconst L1 = L0 + L_COUNT;\r\nconst V1 = V0 + V_COUNT;\r\nconst T1 = T0 + T_COUNT;\r\n\r\nfunction unpack_cc(packed) {\r\n\treturn (packed >> 24) & 0xFF;\r\n}\r\nfunction unpack_cp(packed) {\r\n\treturn packed & 0xFFFFFF;\r\n}\r\n\r\nlet SHIFTED_RANK, EXCLUSIONS, DECOMP, RECOMP;\r\n\r\nfunction init$1() {\r\n\t//console.time('nf');\r\n\tlet r = read_compressed_payload(COMPRESSED);\r\n\tSHIFTED_RANK = new Map(read_sorted_arrays(r).flatMap((v, i) => v.map(x => [x, (i+1) << 24]))); // pre-shifted\r\n\tEXCLUSIONS = new Set(read_sorted(r));\r\n\tDECOMP = new Map();\r\n\tRECOMP = new Map();\r\n\tfor (let [cp, cps] of read_mapped(r)) {\r\n\t\tif (!EXCLUSIONS.has(cp) && cps.length == 2) {\r\n\t\t\tlet [a, b] = cps;\r\n\t\t\tlet bucket = RECOMP.get(a);\r\n\t\t\tif (!bucket) {\r\n\t\t\t\tbucket = new Map();\r\n\t\t\t\tRECOMP.set(a, bucket);\r\n\t\t\t}\r\n\t\t\tbucket.set(b, cp);\r\n\t\t}\r\n\t\tDECOMP.set(cp, cps.reverse()); // stored reversed\r\n\t}\r\n\t//console.timeEnd('nf');\r\n\t// 20230905: 11ms\r\n}\r\n\r\nfunction is_hangul(cp) {\r\n\treturn cp >= S0 && cp < S1;\r\n}\r\n\r\nfunction compose_pair(a, b) {\r\n\tif (a >= L0 && a < L1 && b >= V0 && b < V1) {\r\n\t\treturn S0 + (a - L0) * N_COUNT + (b - V0) * T_COUNT;\r\n\t} else if (is_hangul(a) && b > T0 && b < T1 && (a - S0) % T_COUNT == 0) {\r\n\t\treturn a + (b - T0);\r\n\t} else {\r\n\t\tlet recomp = RECOMP.get(a);\r\n\t\tif (recomp) {\r\n\t\t\trecomp = recomp.get(b);\r\n\t\t\tif (recomp) {\r\n\t\t\t\treturn recomp;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n}\r\n\r\nfunction decomposed(cps) {\r\n\tif (!SHIFTED_RANK) init$1();\r\n\tlet ret = [];\r\n\tlet buf = [];\r\n\tlet check_order = false;\r\n\tfunction add(cp) {\r\n\t\tlet cc = SHIFTED_RANK.get(cp);\r\n\t\tif (cc) {\r\n\t\t\tcheck_order = true;\r\n\t\t\tcp |= cc;\r\n\t\t}\r\n\t\tret.push(cp);\r\n\t}\r\n\tfor (let cp of cps) {\r\n\t\twhile (true) {\r\n\t\t\tif (cp < 0x80) {\r\n\t\t\t\tret.push(cp);\r\n\t\t\t} else if (is_hangul(cp)) {\r\n\t\t\t\tlet s_index = cp - S0;\r\n\t\t\t\tlet l_index = s_index / N_COUNT | 0;\r\n\t\t\t\tlet v_index = (s_index % N_COUNT) / T_COUNT | 0;\r\n\t\t\t\tlet t_index = s_index % T_COUNT;\r\n\t\t\t\tadd(L0 + l_index);\r\n\t\t\t\tadd(V0 + v_index);\r\n\t\t\t\tif (t_index > 0) add(T0 + t_index);\r\n\t\t\t} else {\r\n\t\t\t\tlet mapped = DECOMP.get(cp);\r\n\t\t\t\tif (mapped) {\r\n\t\t\t\t\tbuf.push(...mapped);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tadd(cp);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!buf.length) break;\r\n\t\t\tcp = buf.pop();\r\n\t\t}\r\n\t}\r\n\tif (check_order && ret.length > 1) {\r\n\t\tlet prev_cc = unpack_cc(ret[0]);\r\n\t\tfor (let i = 1; i < ret.length; i++) {\r\n\t\t\tlet cc = unpack_cc(ret[i]);\r\n\t\t\tif (cc == 0 || prev_cc <= cc) {\r\n\t\t\t\tprev_cc = cc;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tlet j = i-1;\r\n\t\t\twhile (true) {\r\n\t\t\t\tlet tmp = ret[j+1];\r\n\t\t\t\tret[j+1] = ret[j];\r\n\t\t\t\tret[j] = tmp;\r\n\t\t\t\tif (!j) break;\r\n\t\t\t\tprev_cc = unpack_cc(ret[--j]);\r\n\t\t\t\tif (prev_cc <= cc) break;\r\n\t\t\t}\r\n\t\t\tprev_cc = unpack_cc(ret[i]);\r\n\t\t}\r\n\t}\r\n\treturn ret;\r\n}\r\n\r\nfunction composed_from_decomposed(v) {\r\n\tlet ret = [];\r\n\tlet stack = [];\r\n\tlet prev_cp = -1;\r\n\tlet prev_cc = 0;\r\n\tfor (let packed of v) {\r\n\t\tlet cc = unpack_cc(packed);\r\n\t\tlet cp = unpack_cp(packed);\r\n\t\tif (prev_cp == -1) {\r\n\t\t\tif (cc == 0) {\r\n\t\t\t\tprev_cp = cp;\r\n\t\t\t} else {\r\n\t\t\t\tret.push(cp);\r\n\t\t\t}\r\n\t\t} else if (prev_cc > 0 && prev_cc >= cc) {\r\n\t\t\tif (cc == 0) {\r\n\t\t\t\tret.push(prev_cp, ...stack);\r\n\t\t\t\tstack.length = 0;\r\n\t\t\t\tprev_cp = cp;\r\n\t\t\t} else {\r\n\t\t\t\tstack.push(cp);\r\n\t\t\t}\r\n\t\t\tprev_cc = cc;\r\n\t\t} else {\r\n\t\t\tlet composed = compose_pair(prev_cp, cp);\r\n\t\t\tif (composed >= 0) {\r\n\t\t\t\tprev_cp = composed;\r\n\t\t\t} else if (prev_cc == 0 && cc == 0) {\r\n\t\t\t\tret.push(prev_cp);\r\n\t\t\t\tprev_cp = cp;\r\n\t\t\t} else {\r\n\t\t\t\tstack.push(cp);\r\n\t\t\t\tprev_cc = cc;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (prev_cp >= 0) {\r\n\t\tret.push(prev_cp, ...stack);\t\r\n\t}\r\n\treturn ret;\r\n}\r\n\r\n// note: cps can be iterable\r\nfunction nfd(cps) {\r\n\treturn decomposed(cps).map(unpack_cp);\r\n}\r\nfunction nfc(cps) {\r\n\treturn composed_from_decomposed(decomposed(cps));\r\n}\n\nconst HYPHEN = 0x2D;\r\nconst STOP = 0x2E;\r\nconst STOP_CH = '.';\r\nconst FE0F = 0xFE0F;\r\nconst UNIQUE_PH = 1;\r\n\r\n// 20230913: replace [...v] with Array_from(v) to avoid large spreads\r\nconst Array_from = x => Array.from(x); // Array.from.bind(Array);\r\n\r\nfunction group_has_cp(g, cp) {\r\n\t// 20230913: keep primary and secondary distinct instead of creating valid union\r\n\treturn g.P.has(cp) || g.Q.has(cp);\r\n}\r\n\r\nclass Emoji extends Array {\r\n\tget is_emoji() { return true; } // free tagging system\r\n}\r\n\r\nlet MAPPED, IGNORED, CM, NSM, ESCAPE, NFC_CHECK, GROUPS, WHOLE_VALID, WHOLE_MAP, VALID, EMOJI_LIST, EMOJI_ROOT;\r\n\r\nfunction init() {\r\n\tif (MAPPED) return;\r\n\t\r\n\tlet r = read_compressed_payload(COMPRESSED$1);\r\n\tconst read_sorted_array = () => read_sorted(r);\r\n\tconst read_sorted_set = () => new Set(read_sorted_array());\r\n\r\n\tMAPPED = new Map(read_mapped(r)); \r\n\tIGNORED = read_sorted_set(); // ignored characters are not valid, so just read raw codepoints\r\n\r\n\t/*\r\n\t// direct include from payload is smaller than the decompression code\r\n\tconst FENCED = new Map(read_array_while(() => {\r\n\t\tlet cp = r();\r\n\t\tif (cp) return [cp, read_str(r())];\r\n\t}));\r\n\t*/\r\n\t// 20230217: we still need all CM for proper error formatting\r\n\t// but norm only needs NSM subset that are potentially-valid\r\n\tCM = read_sorted_array();\r\n\tNSM = new Set(read_sorted_array().map(i => CM[i]));\r\n\tCM = new Set(CM);\r\n\t\r\n\tESCAPE = read_sorted_set(); // characters that should not be printed\r\n\tNFC_CHECK = read_sorted_set(); // only needed to illustrate ens_tokenize() transformations\r\n\r\n\tlet chunks = read_sorted_arrays(r);\r\n\tlet unrestricted = r();\r\n\tconst read_chunked = () => new Set(read_sorted_array().flatMap(i => chunks[i]).concat(read_sorted_array()));\r\n\tGROUPS = read_array_while(i => {\r\n\t\t// minifier property mangling seems unsafe\r\n\t\t// so these are manually renamed to single chars\r\n\t\tlet N = read_array_while(r).map(x => x+0x60);\r\n\t\tif (N.length) {\r\n\t\t\tlet R = i >= unrestricted; // first arent restricted\r\n\t\t\tN[0] -= 32; // capitalize\r\n\t\t\tN = str_from_cps(N);\r\n\t\t\tif (R) N=`Restricted[${N}]`;\r\n\t\t\tlet P = read_chunked(); // primary\r\n\t\t\tlet Q = read_chunked(); // secondary\r\n\t\t\tlet M = !r(); // not-whitelisted, check for NSM\r\n\t\t\t// *** this code currently isn't needed ***\r\n\t\t\t/*\r\n\t\t\tlet V = [...P, ...Q].sort((a, b) => a-b); // derive: sorted valid\r\n\t\t\tlet M = r()-1; // number of combining mark\r\n\t\t\tif (M < 0) { // whitelisted\r\n\t\t\t\tM = new Map(read_array_while(() => {\r\n\t\t\t\t\tlet i = r();\r\n\t\t\t\t\tif (i) return [V[i-1], read_array_while(() => {\r\n\t\t\t\t\t\tlet v = read_array_while(r);\r\n\t\t\t\t\t\tif (v.length) return v.map(x => x-1);\r\n\t\t\t\t\t})];\r\n\t\t\t\t}));\r\n\t\t\t}*/\r\n\t\t\treturn {N, P, Q, M, R};\r\n\t\t}\r\n\t});\r\n\r\n\t// decode compressed wholes\r\n\tWHOLE_VALID = read_sorted_set();\r\n\tWHOLE_MAP = new Map();\r\n\tlet wholes = read_sorted_array().concat(Array_from(WHOLE_VALID)).sort((a, b) => a-b); // must be sorted\r\n\twholes.forEach((cp, i) => {\r\n\t\tlet d = r(); \r\n\t\tlet w = wholes[i] = d ? wholes[i-d] : {V: [], M: new Map()};\r\n\t\tw.V.push(cp); // add to member set\r\n\t\tif (!WHOLE_VALID.has(cp)) {\r\n\t\t\tWHOLE_MAP.set(cp, w);  // register with whole map\r\n\t\t}\r\n\t});\r\n\r\n\t// compute confusable-extent complements\r\n\tfor (let {V, M} of new Set(WHOLE_MAP.values())) {\r\n\t\t// connect all groups that have each whole character\r\n\t\tlet recs = [];\r\n\t\tfor (let cp of V) {\r\n\t\t\tlet gs = GROUPS.filter(g => group_has_cp(g, cp));\r\n\t\t\tlet rec = recs.find(({G}) => gs.some(g => G.has(g)));\r\n\t\t\tif (!rec) {\r\n\t\t\t\trec = {G: new Set(), V: []};\r\n\t\t\t\trecs.push(rec);\r\n\t\t\t}\r\n\t\t\trec.V.push(cp);\r\n\t\t\tgs.forEach(g => rec.G.add(g));\r\n\t\t}\r\n\t\t// per character cache groups which are not a member of the extent\r\n\t\tlet union = recs.flatMap(x => Array_from(x.G));\r\n\t\tfor (let {G, V} of recs) {\r\n\t\t\tlet complement = new Set(union.filter(g => !G.has(g)));\r\n\t\t\tfor (let cp of V) {\r\n\t\t\t\tM.set(cp, complement);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// compute valid set\r\n\tlet union = new Set(); // exists in 1+ groups\r\n\tlet multi = new Set(); // exists in 2+ groups\r\n\tconst add_to_union = cp => union.has(cp) ? multi.add(cp) : union.add(cp);\r\n\tfor (let g of GROUPS) {\r\n\t\tfor (let cp of g.P) add_to_union(cp);\r\n\t\tfor (let cp of g.Q) add_to_union(cp);\r\n\t}\r\n\t// dual purpose WHOLE_MAP: return placeholder if unique non-confusable\r\n\tfor (let cp of union) {\r\n\t\tif (!WHOLE_MAP.has(cp) && !multi.has(cp)) {\r\n\t\t\tWHOLE_MAP.set(cp, UNIQUE_PH);\r\n\t\t}\r\n\t}\r\n\tVALID = new Set(Array_from(union).concat(Array_from(nfd(union)))); // possibly valid\r\n\r\n\t// decode emoji\r\n\t// 20230719: emoji are now fully-expanded to avoid quirk logic \r\n\tEMOJI_LIST = read_trie(r).map(v => Emoji.from(v)).sort(compare_arrays);\r\n\tEMOJI_ROOT = new Map(); // this has approx 7K nodes (2+ per emoji)\r\n\tfor (let cps of EMOJI_LIST) {\r\n\t\t// 20230719: change to *slightly* stricter algorithm which disallows \r\n\t\t// insertion of misplaced FE0F in emoji sequences (matching ENSIP-15)\r\n\t\t// example: beautified [A B] (eg. flag emoji) \r\n\t\t//  before: allow: [A FE0F B], error: [A FE0F FE0F B] \r\n\t\t//   after: error: both\r\n\t\t// note: this code now matches ENSNormalize.{cs,java} logic\r\n\t\tlet prev = [EMOJI_ROOT];\r\n\t\tfor (let cp of cps) {\r\n\t\t\tlet next = prev.map(node => {\r\n\t\t\t\tlet child = node.get(cp);\r\n\t\t\t\tif (!child) {\r\n\t\t\t\t\t// should this be object? \r\n\t\t\t\t\t// (most have 1-2 items, few have many)\r\n\t\t\t\t\t// 20230719: no, v8 default map is 4?\r\n\t\t\t\t\tchild = new Map();\r\n\t\t\t\t\tnode.set(cp, child);\r\n\t\t\t\t}\r\n\t\t\t\treturn child;\r\n\t\t\t});\r\n\t\t\tif (cp === FE0F) {\r\n\t\t\t\tprev.push(...next); // less than 20 elements\r\n\t\t\t} else {\r\n\t\t\t\tprev = next;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (let x of prev) {\r\n\t\t\tx.V = cps;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// if escaped: {HEX}\r\n//       else: \"x\" {HEX}\r\nfunction quoted_cp(cp) {\r\n\treturn (should_escape(cp) ? '' : `${bidi_qq(safe_str_from_cps([cp]))} `) + quote_cp(cp);\r\n}\r\n\r\n// 20230211: some messages can be mixed-directional and result in spillover\r\n// use 200E after a quoted string to force the remainder of a string from \r\n// acquring the direction of the quote\r\n// https://www.w3.org/International/questions/qa-bidi-unicode-controls#exceptions\r\nfunction bidi_qq(s) {\r\n\treturn `\"${s}\"\\u200E`; // strong LTR\r\n}\r\n\r\nfunction check_label_extension(cps) {\r\n\tif (cps.length >= 4 && cps[2] == HYPHEN && cps[3] == HYPHEN) {\r\n\t\tthrow new Error(`invalid label extension: \"${str_from_cps(cps.slice(0, 4))}\"`);\r\n\t}\r\n}\r\nfunction check_leading_underscore(cps) {\r\n\tconst UNDERSCORE = 0x5F;\r\n\tfor (let i = cps.lastIndexOf(UNDERSCORE); i > 0; ) {\r\n\t\tif (cps[--i] !== UNDERSCORE) {\r\n\t\t\tthrow new Error('underscore allowed only at start');\r\n\t\t}\r\n\t}\r\n}\r\n// check that a fenced cp is not leading, trailing, or touching another fenced cp\r\nfunction check_fenced(cps) {\r\n\tlet cp = cps[0];\r\n\tlet prev = FENCED.get(cp);\r\n\tif (prev) throw error_placement(`leading ${prev}`);\r\n\tlet n = cps.length;\r\n\tlet last = -1; // prevents trailing from throwing\r\n\tfor (let i = 1; i < n; i++) {\r\n\t\tcp = cps[i];\r\n\t\tlet match = FENCED.get(cp);\r\n\t\tif (match) {\r\n\t\t\t// since cps[0] isn't fenced, cps[1] cannot throw\r\n\t\t\tif (last == i) throw error_placement(`${prev} + ${match}`);\r\n\t\t\tlast = i + 1;\r\n\t\t\tprev = match;\r\n\t\t}\r\n\t}\r\n\tif (last == n) throw error_placement(`trailing ${prev}`);\r\n}\r\n\r\n// create a safe to print string \r\n// invisibles are escaped\r\n// leading cm uses placeholder\r\n// quoter(cp) => string, eg. 3000 => \"{3000}\"\r\n// note: in html, you'd call this function then replace [<>&] with entities\r\nfunction safe_str_from_cps(cps, quoter = quote_cp) {\r\n\t//if (Number.isInteger(cps)) cps = [cps];\r\n\t//if (!Array.isArray(cps)) throw new TypeError(`expected codepoints`);\r\n\tlet buf = [];\r\n\tif (is_combining_mark(cps[0])) buf.push('');\r\n\tlet prev = 0;\r\n\tlet n = cps.length;\r\n\tfor (let i = 0; i < n; i++) {\r\n\t\tlet cp = cps[i];\r\n\t\tif (should_escape(cp)) {\r\n\t\t\tbuf.push(str_from_cps(cps.slice(prev, i)));\r\n\t\t\tbuf.push(quoter(cp));\r\n\t\t\tprev = i + 1;\r\n\t\t}\r\n\t}\r\n\tbuf.push(str_from_cps(cps.slice(prev, n)));\r\n\treturn buf.join('');\r\n}\r\n\r\n// note: set(s) cannot be exposed because they can be modified\r\n// note: Object.freeze() doesn't work\r\nfunction is_combining_mark(cp) {\r\n\tinit();\r\n\treturn CM.has(cp);\r\n}\r\nfunction should_escape(cp) {\r\n\tinit();\r\n\treturn ESCAPE.has(cp);\r\n}\r\n\r\n// return all supported emoji as fully-qualified emoji \r\n// ordered by length then lexicographic \r\nfunction ens_emoji() {\r\n\tinit();\r\n\treturn EMOJI_LIST.map(x => x.slice()); // emoji are exposed so copy\r\n}\r\n\r\nfunction ens_normalize_fragment(frag, decompose) {\r\n\tinit();\r\n\tlet nf = decompose ? nfd : nfc;\r\n\treturn frag.split(STOP_CH).map(label => str_from_cps(tokens_from_str(explode_cp(label), nf, filter_fe0f).flat())).join(STOP_CH);\r\n}\r\n\r\nfunction ens_normalize(name) {\r\n\treturn flatten(split(name, nfc, filter_fe0f));\r\n}\r\n\r\nfunction ens_beautify(name) {\r\n\tlet labels = split(name, nfc, x => x); // emoji not exposed\r\n\tfor (let {type, output, error} of labels) {\r\n\t\tif (error) break; // flatten will throw\r\n\r\n\t\t// replace leading/trailing hyphen\r\n\t\t// 20230121: consider beautifing all or leading/trailing hyphen to unicode variant\r\n\t\t// not exactly the same in every font, but very similar: \"-\" vs \"\"\r\n\t\t/*\r\n\t\tconst UNICODE_HYPHEN = 0x2010;\r\n\t\t// maybe this should replace all for visual consistancy?\r\n\t\t// `node tools/reg-count.js regex ^-\\{2,\\}` => 592\r\n\t\t//for (let i = 0; i < output.length; i++) if (output[i] == 0x2D) output[i] = 0x2010;\r\n\t\tif (output[0] == HYPHEN) output[0] = UNICODE_HYPHEN;\r\n\t\tlet end = output.length-1;\r\n\t\tif (output[end] == HYPHEN) output[end] = UNICODE_HYPHEN;\r\n\t\t*/\r\n\t\t// 20230123: WHATWG URL uses \"CheckHyphens\" false\r\n\t\t// https://url.spec.whatwg.org/#idna\r\n\r\n\t\t// update ethereum symbol\r\n\t\t//  =>  if not greek\r\n\t\tif (type !== 'Greek') { \r\n\t\t\tlet prev = 0;\r\n\t\t\twhile (true) {\r\n\t\t\t\tlet next = output.indexOf(0x3BE, prev);\r\n\t\t\t\tif (next < 0) break;\r\n\t\t\t\toutput[next] = 0x39E; \r\n\t\t\t\tprev = next + 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// 20221213: fixes bidi subdomain issue, but breaks invariant (200E is disallowed)\r\n\t\t// could be fixed with special case for: 2D (.) + 200E (LTR)\r\n\t\t// https://discuss.ens.domains/t/bidi-label-ordering-spoof/15824\r\n\t\t//output.splice(0, 0, 0x200E);\r\n\t}\r\n\treturn flatten(labels);\r\n}\r\n\r\nfunction ens_split(name, preserve_emoji) {\r\n\treturn split(name, nfc, preserve_emoji ? x => x.slice() : filter_fe0f); // emoji are exposed so copy\r\n}\r\n\r\nfunction split(name, nf, ef) {\r\n\tif (!name) return []; // 20230719: empty name allowance\r\n\tinit();\r\n\tlet offset = 0;\r\n\t// https://unicode.org/reports/tr46/#Validity_Criteria\r\n\t// 4.) \"The label must not contain a U+002E ( . ) FULL STOP.\"\r\n\treturn name.split(STOP_CH).map(label => {\r\n\t\tlet input = explode_cp(label);\r\n\t\tlet info = {\r\n\t\t\tinput,\r\n\t\t\toffset, // codepoint, not substring!\r\n\t\t};\r\n\t\toffset += input.length + 1; // + stop\r\n\t\ttry {\r\n\t\t\t// 1.) \"The label must be in Unicode Normalization Form NFC\"\r\n\t\t\tlet tokens = info.tokens = tokens_from_str(input, nf, ef);\r\n\t\t\tlet token_count = tokens.length;\r\n\t\t\tlet type;\r\n\t\t\tif (!token_count) { // the label was effectively empty (could of had ignored characters)\r\n\t\t\t\t//norm = [];\r\n\t\t\t\t//type = 'None'; // use this instead of next match, \"ASCII\"\r\n\t\t\t\t// 20230120: change to strict\r\n\t\t\t\t// https://discuss.ens.domains/t/ens-name-normalization-2nd/14564/59\r\n\t\t\t\tthrow new Error(`empty label`);\r\n\t\t\t} \r\n\t\t\tlet norm = info.output = tokens.flat();\r\n\t\t\tcheck_leading_underscore(norm);\r\n\t\t\tlet emoji = info.emoji = token_count > 1 || tokens[0].is_emoji; // same as: tokens.some(x => x.is_emoji);\r\n\t\t\tif (!emoji && norm.every(cp => cp < 0x80)) { // special case for ascii\r\n\t\t\t\t// 20230123: matches matches WHATWG, see note 3.3\r\n\t\t\t\tcheck_label_extension(norm); // only needed for ascii\r\n\t\t\t\t// cant have fenced\r\n\t\t\t\t// cant have cm\r\n\t\t\t\t// cant have wholes\r\n\t\t\t\t// see derive: \"Fastpath ASCII\"\r\n\t\t\t\ttype = 'ASCII';\r\n\t\t\t} else {\r\n\t\t\t\tlet chars = tokens.flatMap(x => x.is_emoji ? [] : x); // all of the nfc tokens concat together\r\n\t\t\t\tif (!chars.length) { // theres no text, just emoji\r\n\t\t\t\t\ttype = 'Emoji';\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 5.) \"The label must not begin with a combining mark, that is: General_Category=Mark.\"\r\n\t\t\t\t\tif (CM.has(norm[0])) throw error_placement('leading combining mark');\r\n\t\t\t\t\tfor (let i = 1; i < token_count; i++) { // we've already checked the first token\r\n\t\t\t\t\t\tlet cps = tokens[i];\r\n\t\t\t\t\t\tif (!cps.is_emoji && CM.has(cps[0])) { // every text token has emoji neighbors, eg. EtEEEtEt...\r\n\t\t\t\t\t\t\t// bidi_qq() not needed since emoji is LTR and cps is a CM\r\n\t\t\t\t\t\t\tthrow error_placement(`emoji + combining mark: \"${str_from_cps(tokens[i-1])} + ${safe_str_from_cps([cps[0]])}\"`); \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcheck_fenced(norm);\r\n\t\t\t\t\tlet unique = Array_from(new Set(chars));\r\n\t\t\t\t\tlet [g] = determine_group(unique); // take the first match\r\n\t\t\t\t\t// see derive: \"Matching Groups have Same CM Style\"\r\n\t\t\t\t\t// alternative: could form a hybrid type: Latin/Japanese/...\t\r\n\t\t\t\t\tcheck_group(g, chars); // need text in order\r\n\t\t\t\t\tcheck_whole(g, unique); // only need unique text (order would be required for multiple-char confusables)\r\n\t\t\t\t\ttype = g.N;\r\n\t\t\t\t\t// 20230121: consider exposing restricted flag\r\n\t\t\t\t\t// it's simpler to just check for 'Restricted'\r\n\t\t\t\t\t// or even better: type.endsWith(']')\r\n\t\t\t\t\t//if (g.R) info.restricted = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tinfo.type = type;\r\n\t\t} catch (err) {\r\n\t\t\tinfo.error = err; // use full error object\r\n\t\t}\r\n\t\treturn info;\r\n\t});\r\n}\r\n\r\nfunction check_whole(group, unique) {\r\n\tlet maker;\r\n\tlet shared = [];\r\n\tfor (let cp of unique) {\r\n\t\tlet whole = WHOLE_MAP.get(cp);\r\n\t\tif (whole === UNIQUE_PH) return; // unique, non-confusable\r\n\t\tif (whole) {\r\n\t\t\tlet set = whole.M.get(cp); // groups which have a character that look-like this character\r\n\t\t\tmaker = maker ? maker.filter(g => set.has(g)) : Array_from(set);\r\n\t\t\tif (!maker.length) return; // confusable intersection is empty\r\n\t\t} else {\r\n\t\t\tshared.push(cp); \r\n\t\t}\r\n\t}\r\n\tif (maker) {\r\n\t\t// we have 1+ confusable\r\n\t\t// check if any of the remaining groups\r\n\t\t// contain the shared characters too\r\n\t\tfor (let g of maker) {\r\n\t\t\tif (shared.every(cp => group_has_cp(g, cp))) {\r\n\t\t\t\tthrow new Error(`whole-script confusable: ${group.N}/${g.N}`);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// assumption: unique.size > 0\r\n// returns list of matching groups\r\nfunction determine_group(unique) {\r\n\tlet groups = GROUPS;\r\n\tfor (let cp of unique) {\r\n\t\t// note: we need to dodge CM that are whitelisted\r\n\t\t// but that code isn't currently necessary\r\n\t\tlet gs = groups.filter(g => group_has_cp(g, cp));\r\n\t\tif (!gs.length) {\r\n\t\t\tif (!GROUPS.some(g => group_has_cp(g, cp))) { \r\n\t\t\t\t// the character was composed of valid parts\r\n\t\t\t\t// but it's NFC form is invalid\r\n\t\t\t\t// 20230716: change to more exact statement, see: ENSNormalize.{cs,java}\r\n\t\t\t\t// note: this doesn't have to be a composition\r\n\t\t\t\t// 20230720: change to full check\r\n\t\t\t\tthrow error_disallowed(cp); // this should be rare\r\n\t\t\t} else {\r\n\t\t\t\t// there is no group that contains all these characters\r\n\t\t\t\t// throw using the highest priority group that matched\r\n\t\t\t\t// https://www.unicode.org/reports/tr39/#mixed_script_confusables\r\n\t\t\t\tthrow error_group_member(groups[0], cp);\r\n\t\t\t}\r\n\t\t}\r\n\t\tgroups = gs;\r\n\t\tif (gs.length == 1) break; // there is only one group left\r\n\t}\r\n\t// there are at least 1 group(s) with all of these characters\r\n\treturn groups;\r\n}\r\n\r\n// throw on first error\r\nfunction flatten(split) {\r\n\treturn split.map(({input, error, output}) => {\r\n\t\tif (error) {\r\n\t\t\t// don't print label again if just a single label\r\n\t\t\tlet msg = error.message;\r\n\t\t\t// bidi_qq() only necessary if msg is digits\r\n\t\t\tthrow new Error(split.length == 1 ? msg : `Invalid label ${bidi_qq(safe_str_from_cps(input))}: ${msg}`); \r\n\t\t}\r\n\t\treturn str_from_cps(output);\r\n\t}).join(STOP_CH);\r\n}\r\n\r\nfunction error_disallowed(cp) {\r\n\t// TODO: add cp to error?\r\n\treturn new Error(`disallowed character: ${quoted_cp(cp)}`); \r\n}\r\nfunction error_group_member(g, cp) {\r\n\tlet quoted = quoted_cp(cp);\r\n\tlet gg = GROUPS.find(g => g.P.has(cp)); // only check primary\r\n\tif (gg) {\r\n\t\tquoted = `${gg.N} ${quoted}`;\r\n\t}\r\n\treturn new Error(`illegal mixture: ${g.N} + ${quoted}`);\r\n}\r\nfunction error_placement(where) {\r\n\treturn new Error(`illegal placement: ${where}`);\r\n}\r\n\r\n// assumption: cps.length > 0\r\n// assumption: cps[0] isn't a CM\r\n// assumption: the previous character isn't an emoji\r\nfunction check_group(g, cps) {\r\n\tfor (let cp of cps) {\r\n\t\tif (!group_has_cp(g, cp)) {\r\n\t\t\t// for whitelisted scripts, this will throw illegal mixture on invalid cm, eg. \"e{300}{300}\"\r\n\t\t\t// at the moment, it's unnecessary to introduce an extra error type\r\n\t\t\t// until there exists a whitelisted multi-character\r\n\t\t\t//   eg. if (M < 0 && is_combining_mark(cp)) { ... }\r\n\t\t\t// there are 3 cases:\r\n\t\t\t//   1. illegal cm for wrong group => mixture error\r\n\t\t\t//   2. illegal cm for same group => cm error\r\n\t\t\t//       requires set of whitelist cm per group: \r\n\t\t\t//        eg. new Set([...g.P, ...g.Q].flatMap(nfc).filter(cp => CM.has(cp)))\r\n\t\t\t//   3. wrong group => mixture error\r\n\t\t\tthrow error_group_member(g, cp);\r\n\t\t}\r\n\t}\r\n\t//if (M >= 0) { // we have a known fixed cm count\r\n\tif (g.M) { // we need to check for NSM\r\n\t\tlet decomposed = nfd(cps);\r\n\t\tfor (let i = 1, e = decomposed.length; i < e; i++) { // see: assumption\r\n\t\t\t// 20230210: bugfix: using cps instead of decomposed h/t Carbon225\r\n\t\t\t/*\r\n\t\t\tif (CM.has(decomposed[i])) {\r\n\t\t\t\tlet j = i + 1;\r\n\t\t\t\twhile (j < e && CM.has(decomposed[j])) j++;\r\n\t\t\t\tif (j - i > M) {\r\n\t\t\t\t\tthrow new Error(`too many combining marks: ${g.N} ${bidi_qq(str_from_cps(decomposed.slice(i-1, j)))} (${j-i}/${M})`);\r\n\t\t\t\t}\r\n\t\t\t\ti = j;\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t\t// 20230217: switch to NSM counting\r\n\t\t\t// https://www.unicode.org/reports/tr39/#Optional_Detection\r\n\t\t\tif (NSM.has(decomposed[i])) {\r\n\t\t\t\tlet j = i + 1;\r\n\t\t\t\tfor (let cp; j < e && NSM.has(cp = decomposed[j]); j++) {\r\n\t\t\t\t\t// a. Forbid sequences of the same nonspacing mark.\r\n\t\t\t\t\tfor (let k = i; k < j; k++) { // O(n^2) but n < 100\r\n\t\t\t\t\t\tif (decomposed[k] == cp) {\r\n\t\t\t\t\t\t\tthrow new Error(`duplicate non-spacing marks: ${quoted_cp(cp)}`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// parse to end so we have full nsm count\r\n\t\t\t\t// b. Forbid sequences of more than 4 nonspacing marks (gc=Mn or gc=Me).\r\n\t\t\t\tif (j - i > NSM_MAX) {\r\n\t\t\t\t\t// note: this slice starts with a base char or spacing-mark cm\r\n\t\t\t\t\tthrow new Error(`excessive non-spacing marks: ${bidi_qq(safe_str_from_cps(decomposed.slice(i-1, j)))} (${j-i}/${NSM_MAX})`);\r\n\t\t\t\t}\r\n\t\t\t\ti = j;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// *** this code currently isn't needed ***\r\n\t/*\r\n\tlet cm_whitelist = M instanceof Map;\r\n\tfor (let i = 0, e = cps.length; i < e; ) {\r\n\t\tlet cp = cps[i++];\r\n\t\tlet seqs = cm_whitelist && M.get(cp);\r\n\t\tif (seqs) { \r\n\t\t\t// list of codepoints that can follow\r\n\t\t\t// if this exists, this will always be 1+\r\n\t\t\tlet j = i;\r\n\t\t\twhile (j < e && CM.has(cps[j])) j++;\r\n\t\t\tlet cms = cps.slice(i, j);\r\n\t\t\tlet match = seqs.find(seq => !compare_arrays(seq, cms));\r\n\t\t\tif (!match) throw new Error(`disallowed combining mark sequence: \"${safe_str_from_cps([cp, ...cms])}\"`);\r\n\t\t\ti = j;\r\n\t\t} else if (!V.has(cp)) {\r\n\t\t\t// https://www.unicode.org/reports/tr39/#mixed_script_confusables\r\n\t\t\tlet quoted = quoted_cp(cp);\r\n\t\t\tfor (let cp of cps) {\r\n\t\t\t\tlet u = UNIQUE.get(cp);\r\n\t\t\t\tif (u && u !== g) {\r\n\t\t\t\t\t// if both scripts are restricted this error is confusing\r\n\t\t\t\t\t// because we don't differentiate RestrictedA from RestrictedB \r\n\t\t\t\t\tif (!u.R) quoted = `${quoted} is ${u.N}`;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthrow new Error(`disallowed ${g.N} character: ${quoted}`);\r\n\t\t\t//throw new Error(`disallowed character: ${quoted} (expected ${g.N})`);\r\n\t\t\t//throw new Error(`${g.N} does not allow: ${quoted}`);\r\n\t\t}\r\n\t}\r\n\tif (!cm_whitelist) {\r\n\t\tlet decomposed = nfd(cps);\r\n\t\tfor (let i = 1, e = decomposed.length; i < e; i++) { // we know it can't be cm leading\r\n\t\t\tif (CM.has(decomposed[i])) {\r\n\t\t\t\tlet j = i + 1;\r\n\t\t\t\twhile (j < e && CM.has(decomposed[j])) j++;\r\n\t\t\t\tif (j - i > M) {\r\n\t\t\t\t\tthrow new Error(`too many combining marks: \"${str_from_cps(decomposed.slice(i-1, j))}\" (${j-i}/${M})`);\r\n\t\t\t\t}\r\n\t\t\t\ti = j;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t*/\r\n}\r\n\r\n// given a list of codepoints\r\n// returns a list of lists, where emoji are a fully-qualified (as Array subclass)\r\n// eg. explode_cp(\"abcd\") => [[61, 62, 63], Emoji[1F4A9, FE0F], [64]]\r\n// 20230818: rename for 'process' name collision h/t Javarome\r\n// https://github.com/adraffy/ens-normalize.js/issues/23\r\nfunction tokens_from_str(input, nf, ef) {\r\n\tlet ret = [];\r\n\tlet chars = [];\r\n\tinput = input.slice().reverse(); // flip so we can pop\r\n\twhile (input.length) {\r\n\t\tlet emoji = consume_emoji_reversed(input);\r\n\t\tif (emoji) {\r\n\t\t\tif (chars.length) {\r\n\t\t\t\tret.push(nf(chars));\r\n\t\t\t\tchars = [];\r\n\t\t\t}\r\n\t\t\tret.push(ef(emoji));\r\n\t\t} else {\r\n\t\t\tlet cp = input.pop();\r\n\t\t\tif (VALID.has(cp)) {\r\n\t\t\t\tchars.push(cp);\r\n\t\t\t} else {\r\n\t\t\t\tlet cps = MAPPED.get(cp);\r\n\t\t\t\tif (cps) {\r\n\t\t\t\t\tchars.push(...cps); // less than 10 elements\r\n\t\t\t\t} else if (!IGNORED.has(cp)) {\r\n\t\t\t\t\t// 20230912: unicode 15.1 changed the order of processing such that\r\n\t\t\t\t\t// disallowed parts are only rejected after NFC\r\n\t\t\t\t\t// https://unicode.org/reports/tr46/#Validity_Criteria\r\n\t\t\t\t\t// this doesn't impact normalization as of today\r\n\t\t\t\t\t// technically, this error can be removed as the group logic will apply similar logic\r\n\t\t\t\t\t// however the error type might be less clear\r\n\t\t\t\t\tthrow error_disallowed(cp);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (chars.length) {\r\n\t\tret.push(nf(chars));\r\n\t}\r\n\treturn ret;\r\n}\r\n\r\nfunction filter_fe0f(cps) {\r\n\treturn cps.filter(cp => cp != FE0F);\r\n}\r\n\r\n// given array of codepoints\r\n// returns the longest valid emoji sequence (or undefined if no match)\r\n// *MUTATES* the supplied array\r\n// disallows interleaved ignored characters\r\n// fills (optional) eaten array with matched codepoints\r\nfunction consume_emoji_reversed(cps, eaten) {\r\n\tlet node = EMOJI_ROOT;\r\n\tlet emoji;\r\n\tlet pos = cps.length;\r\n\twhile (pos) {\r\n\t\tnode = node.get(cps[--pos]);\r\n\t\tif (!node) break;\r\n\t\tlet {V} = node;\r\n\t\tif (V) { // this is a valid emoji (so far)\r\n\t\t\temoji = V;\r\n\t\t\tif (eaten) eaten.push(...cps.slice(pos).reverse()); // (optional) copy input, used for ens_tokenize()\r\n\t\t\tcps.length = pos; // truncate\r\n\t\t}\r\n\t}\r\n\treturn emoji;\r\n}\r\n\r\n// ************************************************************\r\n// tokenizer \r\n\r\nconst TY_VALID = 'valid';\r\nconst TY_MAPPED = 'mapped';\r\nconst TY_IGNORED = 'ignored';\r\nconst TY_DISALLOWED = 'disallowed';\r\nconst TY_EMOJI = 'emoji';\r\nconst TY_NFC = 'nfc';\r\nconst TY_STOP = 'stop';\r\n\r\nfunction ens_tokenize(name, {\r\n\tnf = true, // collapse unnormalized runs into a single token\r\n} = {}) {\r\n\tinit();\r\n\tlet input = explode_cp(name).reverse();\r\n\tlet eaten = [];\r\n\tlet tokens = [];\r\n\twhile (input.length) {\r\n\t\tlet emoji = consume_emoji_reversed(input, eaten);\r\n\t\tif (emoji) {\r\n\t\t\ttokens.push({\r\n\t\t\t\ttype: TY_EMOJI,\r\n\t\t\t\temoji: emoji.slice(), // copy emoji\r\n\t\t\t\tinput: eaten,\r\n\t\t\t\tcps: filter_fe0f(emoji)\r\n\t\t\t});\r\n\t\t\teaten = []; // reset buffer\r\n\t\t} else {\r\n\t\t\tlet cp = input.pop();\r\n\t\t\tif (cp == STOP) {\r\n\t\t\t\ttokens.push({type: TY_STOP, cp});\r\n\t\t\t} else if (VALID.has(cp)) {\r\n\t\t\t\ttokens.push({type: TY_VALID, cps: [cp]});\r\n\t\t\t} else if (IGNORED.has(cp)) {\r\n\t\t\t\ttokens.push({type: TY_IGNORED, cp});\r\n\t\t\t} else {\r\n\t\t\t\tlet cps = MAPPED.get(cp);\r\n\t\t\t\tif (cps) {\r\n\t\t\t\t\ttokens.push({type: TY_MAPPED, cp, cps: cps.slice()});\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttokens.push({type: TY_DISALLOWED, cp});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (nf) {\r\n\t\tfor (let i = 0, start = -1; i < tokens.length; i++) {\r\n\t\t\tlet token = tokens[i];\r\n\t\t\tif (is_valid_or_mapped(token.type)) {\r\n\t\t\t\tif (requires_check(token.cps)) { // normalization might be needed\r\n\t\t\t\t\tlet end = i + 1;\r\n\t\t\t\t\tfor (let pos = end; pos < tokens.length; pos++) { // find adjacent text\r\n\t\t\t\t\t\tlet {type, cps} = tokens[pos];\r\n\t\t\t\t\t\tif (is_valid_or_mapped(type)) {\r\n\t\t\t\t\t\t\tif (!requires_check(cps)) break;\r\n\t\t\t\t\t\t\tend = pos + 1;\r\n\t\t\t\t\t\t} else if (type !== TY_IGNORED) { // || type !== TY_DISALLOWED) { \r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (start < 0) start = i;\r\n\t\t\t\t\tlet slice = tokens.slice(start, end);\r\n\t\t\t\t\tlet cps0 = slice.flatMap(x => is_valid_or_mapped(x.type) ? x.cps : []); // strip junk tokens\r\n\t\t\t\t\tlet cps = nfc(cps0);\r\n\t\t\t\t\tif (compare_arrays(cps, cps0)) { // bundle into an nfc token\r\n\t\t\t\t\t\ttokens.splice(start, end - start, {\r\n\t\t\t\t\t\t\ttype: TY_NFC, \r\n\t\t\t\t\t\t\tinput: cps0, // there are 3 states: tokens0 ==(process)=> input ==(nfc)=> tokens/cps\r\n\t\t\t\t\t\t\tcps, \r\n\t\t\t\t\t\t\ttokens0: collapse_valid_tokens(slice),\r\n\t\t\t\t\t\t\ttokens: ens_tokenize(str_from_cps(cps), {nf: false})\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\ti = start;\r\n\t\t\t\t\t} else { \r\n\t\t\t\t\t\ti = end - 1; // skip to end of slice\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstart = -1; // reset\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstart = i; // remember last\r\n\t\t\t\t}\r\n\t\t\t} else if (token.type !== TY_IGNORED) { // 20221024: is this correct?\r\n\t\t\t\tstart = -1; // reset\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn collapse_valid_tokens(tokens);\r\n}\r\n\r\nfunction is_valid_or_mapped(type) {\r\n\treturn type == TY_VALID || type == TY_MAPPED;\r\n}\r\n\r\nfunction requires_check(cps) {\r\n\treturn cps.some(cp => NFC_CHECK.has(cp));\r\n}\r\n\r\nfunction collapse_valid_tokens(tokens) {\r\n\tfor (let i = 0; i < tokens.length; i++) {\r\n\t\tif (tokens[i].type == TY_VALID) {\r\n\t\t\tlet j = i + 1;\r\n\t\t\twhile (j < tokens.length && tokens[j].type == TY_VALID) j++;\r\n\t\t\ttokens.splice(i, j - i, {type: TY_VALID, cps: tokens.slice(i, j).flatMap(x => x.cps)});\r\n\t\t}\r\n\t}\r\n\treturn tokens;\r\n}\n\nexport { ens_beautify, ens_emoji, ens_normalize, ens_normalize_fragment, ens_split, ens_tokenize, is_combining_mark, nfc, nfd, safe_str_from_cps, should_escape };\n","/* [Multicall3](https://github.com/mds1/multicall) */\nexport const multicall3Abi = [\n    {\n        inputs: [\n            {\n                components: [\n                    {\n                        name: 'target',\n                        type: 'address',\n                    },\n                    {\n                        name: 'allowFailure',\n                        type: 'bool',\n                    },\n                    {\n                        name: 'callData',\n                        type: 'bytes',\n                    },\n                ],\n                name: 'calls',\n                type: 'tuple[]',\n            },\n        ],\n        name: 'aggregate3',\n        outputs: [\n            {\n                components: [\n                    {\n                        name: 'success',\n                        type: 'bool',\n                    },\n                    {\n                        name: 'returnData',\n                        type: 'bytes',\n                    },\n                ],\n                name: 'returnData',\n                type: 'tuple[]',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n];\nconst universalResolverErrors = [\n    {\n        inputs: [],\n        name: 'ResolverNotFound',\n        type: 'error',\n    },\n    {\n        inputs: [],\n        name: 'ResolverWildcardNotSupported',\n        type: 'error',\n    },\n    {\n        inputs: [],\n        name: 'ResolverNotContract',\n        type: 'error',\n    },\n    {\n        inputs: [\n            {\n                name: 'returnData',\n                type: 'bytes',\n            },\n        ],\n        name: 'ResolverError',\n        type: 'error',\n    },\n    {\n        inputs: [\n            {\n                components: [\n                    {\n                        name: 'status',\n                        type: 'uint16',\n                    },\n                    {\n                        name: 'message',\n                        type: 'string',\n                    },\n                ],\n                name: 'errors',\n                type: 'tuple[]',\n            },\n        ],\n        name: 'HttpError',\n        type: 'error',\n    },\n];\nexport const universalResolverResolveAbi = [\n    ...universalResolverErrors,\n    {\n        name: 'resolve',\n        type: 'function',\n        stateMutability: 'view',\n        inputs: [\n            { name: 'name', type: 'bytes' },\n            { name: 'data', type: 'bytes' },\n        ],\n        outputs: [\n            { name: '', type: 'bytes' },\n            { name: 'address', type: 'address' },\n        ],\n    },\n    {\n        name: 'resolve',\n        type: 'function',\n        stateMutability: 'view',\n        inputs: [\n            { name: 'name', type: 'bytes' },\n            { name: 'data', type: 'bytes' },\n            { name: 'gateways', type: 'string[]' },\n        ],\n        outputs: [\n            { name: '', type: 'bytes' },\n            { name: 'address', type: 'address' },\n        ],\n    },\n];\nexport const universalResolverReverseAbi = [\n    ...universalResolverErrors,\n    {\n        name: 'reverse',\n        type: 'function',\n        stateMutability: 'view',\n        inputs: [{ type: 'bytes', name: 'reverseName' }],\n        outputs: [\n            { type: 'string', name: 'resolvedName' },\n            { type: 'address', name: 'resolvedAddress' },\n            { type: 'address', name: 'reverseResolver' },\n            { type: 'address', name: 'resolver' },\n        ],\n    },\n    {\n        name: 'reverse',\n        type: 'function',\n        stateMutability: 'view',\n        inputs: [\n            { type: 'bytes', name: 'reverseName' },\n            { type: 'string[]', name: 'gateways' },\n        ],\n        outputs: [\n            { type: 'string', name: 'resolvedName' },\n            { type: 'address', name: 'resolvedAddress' },\n            { type: 'address', name: 'reverseResolver' },\n            { type: 'address', name: 'resolver' },\n        ],\n    },\n];\nexport const textResolverAbi = [\n    {\n        name: 'text',\n        type: 'function',\n        stateMutability: 'view',\n        inputs: [\n            { name: 'name', type: 'bytes32' },\n            { name: 'key', type: 'string' },\n        ],\n        outputs: [{ name: '', type: 'string' }],\n    },\n];\nexport const addressResolverAbi = [\n    {\n        name: 'addr',\n        type: 'function',\n        stateMutability: 'view',\n        inputs: [{ name: 'name', type: 'bytes32' }],\n        outputs: [{ name: '', type: 'address' }],\n    },\n    {\n        name: 'addr',\n        type: 'function',\n        stateMutability: 'view',\n        inputs: [\n            { name: 'name', type: 'bytes32' },\n            { name: 'coinType', type: 'uint256' },\n        ],\n        outputs: [{ name: '', type: 'bytes' }],\n    },\n];\n// ERC-1271\n// isValidSignature(bytes32 hash, bytes signature)  bytes4 magicValue\nexport const smartAccountAbi = [\n    {\n        name: 'isValidSignature',\n        type: 'function',\n        stateMutability: 'view',\n        inputs: [\n            { name: 'hash', type: 'bytes32' },\n            { name: 'signature', type: 'bytes' },\n        ],\n        outputs: [{ name: '', type: 'bytes4' }],\n    },\n];\n// ERC-6492 - universal deployless signature validator contract\n// constructor(address _signer, bytes32 _hash, bytes _signature)  bytes4 returnValue\n// returnValue is either 0x1 (valid) or 0x0 (invalid)\nexport const universalSignatureValidatorAbi = [\n    {\n        inputs: [\n            {\n                internalType: 'address',\n                name: '_signer',\n                type: 'address',\n            },\n            {\n                internalType: 'bytes32',\n                name: '_hash',\n                type: 'bytes32',\n            },\n            {\n                internalType: 'bytes',\n                name: '_signature',\n                type: 'bytes',\n            },\n        ],\n        stateMutability: 'nonpayable',\n        type: 'constructor',\n    },\n];\n/** [ERC-20 Token Standard](https://ethereum.org/en/developers/docs/standards/tokens/erc-20) */\nexport const erc20Abi = [\n    {\n        type: 'event',\n        name: 'Approval',\n        inputs: [\n            {\n                indexed: true,\n                name: 'owner',\n                type: 'address',\n            },\n            {\n                indexed: true,\n                name: 'spender',\n                type: 'address',\n            },\n            {\n                indexed: false,\n                name: 'value',\n                type: 'uint256',\n            },\n        ],\n    },\n    {\n        type: 'event',\n        name: 'Transfer',\n        inputs: [\n            {\n                indexed: true,\n                name: 'from',\n                type: 'address',\n            },\n            {\n                indexed: true,\n                name: 'to',\n                type: 'address',\n            },\n            {\n                indexed: false,\n                name: 'value',\n                type: 'uint256',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'allowance',\n        stateMutability: 'view',\n        inputs: [\n            {\n                name: 'owner',\n                type: 'address',\n            },\n            {\n                name: 'spender',\n                type: 'address',\n            },\n        ],\n        outputs: [\n            {\n                type: 'uint256',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'approve',\n        stateMutability: 'nonpayable',\n        inputs: [\n            {\n                name: 'spender',\n                type: 'address',\n            },\n            {\n                name: 'amount',\n                type: 'uint256',\n            },\n        ],\n        outputs: [\n            {\n                type: 'bool',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'balanceOf',\n        stateMutability: 'view',\n        inputs: [\n            {\n                name: 'account',\n                type: 'address',\n            },\n        ],\n        outputs: [\n            {\n                type: 'uint256',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'decimals',\n        stateMutability: 'view',\n        inputs: [],\n        outputs: [\n            {\n                type: 'uint8',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'name',\n        stateMutability: 'view',\n        inputs: [],\n        outputs: [\n            {\n                type: 'string',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'symbol',\n        stateMutability: 'view',\n        inputs: [],\n        outputs: [\n            {\n                type: 'string',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'totalSupply',\n        stateMutability: 'view',\n        inputs: [],\n        outputs: [\n            {\n                type: 'uint256',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'transfer',\n        stateMutability: 'nonpayable',\n        inputs: [\n            {\n                name: 'recipient',\n                type: 'address',\n            },\n            {\n                name: 'amount',\n                type: 'uint256',\n            },\n        ],\n        outputs: [\n            {\n                type: 'bool',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'transferFrom',\n        stateMutability: 'nonpayable',\n        inputs: [\n            {\n                name: 'sender',\n                type: 'address',\n            },\n            {\n                name: 'recipient',\n                type: 'address',\n            },\n            {\n                name: 'amount',\n                type: 'uint256',\n            },\n        ],\n        outputs: [\n            {\n                type: 'bool',\n            },\n        ],\n    },\n];\n/**\n * [bytes32-flavored ERC-20](https://docs.makerdao.com/smart-contract-modules/mkr-module#4.-gotchas-potential-source-of-user-error)\n * for tokens (ie. Maker) that use bytes32 instead of string.\n */\nexport const erc20Abi_bytes32 = [\n    {\n        type: 'event',\n        name: 'Approval',\n        inputs: [\n            {\n                indexed: true,\n                name: 'owner',\n                type: 'address',\n            },\n            {\n                indexed: true,\n                name: 'spender',\n                type: 'address',\n            },\n            {\n                indexed: false,\n                name: 'value',\n                type: 'uint256',\n            },\n        ],\n    },\n    {\n        type: 'event',\n        name: 'Transfer',\n        inputs: [\n            {\n                indexed: true,\n                name: 'from',\n                type: 'address',\n            },\n            {\n                indexed: true,\n                name: 'to',\n                type: 'address',\n            },\n            {\n                indexed: false,\n                name: 'value',\n                type: 'uint256',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'allowance',\n        stateMutability: 'view',\n        inputs: [\n            {\n                name: 'owner',\n                type: 'address',\n            },\n            {\n                name: 'spender',\n                type: 'address',\n            },\n        ],\n        outputs: [\n            {\n                type: 'uint256',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'approve',\n        stateMutability: 'nonpayable',\n        inputs: [\n            {\n                name: 'spender',\n                type: 'address',\n            },\n            {\n                name: 'amount',\n                type: 'uint256',\n            },\n        ],\n        outputs: [\n            {\n                type: 'bool',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'balanceOf',\n        stateMutability: 'view',\n        inputs: [\n            {\n                name: 'account',\n                type: 'address',\n            },\n        ],\n        outputs: [\n            {\n                type: 'uint256',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'decimals',\n        stateMutability: 'view',\n        inputs: [],\n        outputs: [\n            {\n                type: 'uint8',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'name',\n        stateMutability: 'view',\n        inputs: [],\n        outputs: [\n            {\n                type: 'bytes32',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'symbol',\n        stateMutability: 'view',\n        inputs: [],\n        outputs: [\n            {\n                type: 'bytes32',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'totalSupply',\n        stateMutability: 'view',\n        inputs: [],\n        outputs: [\n            {\n                type: 'uint256',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'transfer',\n        stateMutability: 'nonpayable',\n        inputs: [\n            {\n                name: 'recipient',\n                type: 'address',\n            },\n            {\n                name: 'amount',\n                type: 'uint256',\n            },\n        ],\n        outputs: [\n            {\n                type: 'bool',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'transferFrom',\n        stateMutability: 'nonpayable',\n        inputs: [\n            {\n                name: 'sender',\n                type: 'address',\n            },\n            {\n                name: 'recipient',\n                type: 'address',\n            },\n            {\n                name: 'amount',\n                type: 'uint256',\n            },\n        ],\n        outputs: [\n            {\n                type: 'bool',\n            },\n        ],\n    },\n];\n/** [ERC-721 Non-Fungible Token Standard](https://ethereum.org/en/developers/docs/standards/tokens/erc-721) */\nexport const erc721Abi = [\n    {\n        type: 'event',\n        name: 'Approval',\n        inputs: [\n            {\n                indexed: true,\n                name: 'owner',\n                type: 'address',\n            },\n            {\n                indexed: true,\n                name: 'spender',\n                type: 'address',\n            },\n            {\n                indexed: true,\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n    },\n    {\n        type: 'event',\n        name: 'ApprovalForAll',\n        inputs: [\n            {\n                indexed: true,\n                name: 'owner',\n                type: 'address',\n            },\n            {\n                indexed: true,\n                name: 'operator',\n                type: 'address',\n            },\n            {\n                indexed: false,\n                name: 'approved',\n                type: 'bool',\n            },\n        ],\n    },\n    {\n        type: 'event',\n        name: 'Transfer',\n        inputs: [\n            {\n                indexed: true,\n                name: 'from',\n                type: 'address',\n            },\n            {\n                indexed: true,\n                name: 'to',\n                type: 'address',\n            },\n            {\n                indexed: true,\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'approve',\n        stateMutability: 'payable',\n        inputs: [\n            {\n                name: 'spender',\n                type: 'address',\n            },\n            {\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        outputs: [],\n    },\n    {\n        type: 'function',\n        name: 'balanceOf',\n        stateMutability: 'view',\n        inputs: [\n            {\n                name: 'account',\n                type: 'address',\n            },\n        ],\n        outputs: [\n            {\n                type: 'uint256',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'getApproved',\n        stateMutability: 'view',\n        inputs: [\n            {\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        outputs: [\n            {\n                type: 'address',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'isApprovedForAll',\n        stateMutability: 'view',\n        inputs: [\n            {\n                name: 'owner',\n                type: 'address',\n            },\n            {\n                name: 'operator',\n                type: 'address',\n            },\n        ],\n        outputs: [\n            {\n                type: 'bool',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'name',\n        stateMutability: 'view',\n        inputs: [],\n        outputs: [\n            {\n                type: 'string',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'ownerOf',\n        stateMutability: 'view',\n        inputs: [\n            {\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        outputs: [\n            {\n                name: 'owner',\n                type: 'address',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'safeTransferFrom',\n        stateMutability: 'payable',\n        inputs: [\n            {\n                name: 'from',\n                type: 'address',\n            },\n            {\n                name: 'to',\n                type: 'address',\n            },\n            {\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        outputs: [],\n    },\n    {\n        type: 'function',\n        name: 'safeTransferFrom',\n        stateMutability: 'nonpayable',\n        inputs: [\n            {\n                name: 'from',\n                type: 'address',\n            },\n            {\n                name: 'to',\n                type: 'address',\n            },\n            {\n                name: 'id',\n                type: 'uint256',\n            },\n            {\n                name: 'data',\n                type: 'bytes',\n            },\n        ],\n        outputs: [],\n    },\n    {\n        type: 'function',\n        name: 'setApprovalForAll',\n        stateMutability: 'nonpayable',\n        inputs: [\n            {\n                name: 'operator',\n                type: 'address',\n            },\n            {\n                name: 'approved',\n                type: 'bool',\n            },\n        ],\n        outputs: [],\n    },\n    {\n        type: 'function',\n        name: 'symbol',\n        stateMutability: 'view',\n        inputs: [],\n        outputs: [\n            {\n                type: 'string',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'tokenByIndex',\n        stateMutability: 'view',\n        inputs: [\n            {\n                name: 'index',\n                type: 'uint256',\n            },\n        ],\n        outputs: [\n            {\n                type: 'uint256',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'tokenByIndex',\n        stateMutability: 'view',\n        inputs: [\n            {\n                name: 'owner',\n                type: 'address',\n            },\n            {\n                name: 'index',\n                type: 'uint256',\n            },\n        ],\n        outputs: [\n            {\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'tokenURI',\n        stateMutability: 'view',\n        inputs: [\n            {\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        outputs: [\n            {\n                type: 'string',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'totalSupply',\n        stateMutability: 'view',\n        inputs: [],\n        outputs: [\n            {\n                type: 'uint256',\n            },\n        ],\n    },\n    {\n        type: 'function',\n        name: 'transferFrom',\n        stateMutability: 'payable',\n        inputs: [\n            {\n                name: 'sender',\n                type: 'address',\n            },\n            {\n                name: 'recipient',\n                type: 'address',\n            },\n            {\n                name: 'tokeId',\n                type: 'uint256',\n            },\n        ],\n        outputs: [],\n    },\n];\n/** [ERC-4626 Tokenized Vaults Standard](https://ethereum.org/en/developers/docs/standards/tokens/erc-4626) */\nexport const erc4626Abi = [\n    {\n        anonymous: false,\n        inputs: [\n            {\n                indexed: true,\n                name: 'owner',\n                type: 'address',\n            },\n            {\n                indexed: true,\n                name: 'spender',\n                type: 'address',\n            },\n            {\n                indexed: false,\n                name: 'value',\n                type: 'uint256',\n            },\n        ],\n        name: 'Approval',\n        type: 'event',\n    },\n    {\n        anonymous: false,\n        inputs: [\n            {\n                indexed: true,\n                name: 'sender',\n                type: 'address',\n            },\n            {\n                indexed: true,\n                name: 'receiver',\n                type: 'address',\n            },\n            {\n                indexed: false,\n                name: 'assets',\n                type: 'uint256',\n            },\n            {\n                indexed: false,\n                name: 'shares',\n                type: 'uint256',\n            },\n        ],\n        name: 'Deposit',\n        type: 'event',\n    },\n    {\n        anonymous: false,\n        inputs: [\n            {\n                indexed: true,\n                name: 'from',\n                type: 'address',\n            },\n            {\n                indexed: true,\n                name: 'to',\n                type: 'address',\n            },\n            {\n                indexed: false,\n                name: 'value',\n                type: 'uint256',\n            },\n        ],\n        name: 'Transfer',\n        type: 'event',\n    },\n    {\n        anonymous: false,\n        inputs: [\n            {\n                indexed: true,\n                name: 'sender',\n                type: 'address',\n            },\n            {\n                indexed: true,\n                name: 'receiver',\n                type: 'address',\n            },\n            {\n                indexed: true,\n                name: 'owner',\n                type: 'address',\n            },\n            {\n                indexed: false,\n                name: 'assets',\n                type: 'uint256',\n            },\n            {\n                indexed: false,\n                name: 'shares',\n                type: 'uint256',\n            },\n        ],\n        name: 'Withdraw',\n        type: 'event',\n    },\n    {\n        inputs: [\n            {\n                name: 'owner',\n                type: 'address',\n            },\n            {\n                name: 'spender',\n                type: 'address',\n            },\n        ],\n        name: 'allowance',\n        outputs: [\n            {\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'spender',\n                type: 'address',\n            },\n            {\n                name: 'amount',\n                type: 'uint256',\n            },\n        ],\n        name: 'approve',\n        outputs: [\n            {\n                type: 'bool',\n            },\n        ],\n        stateMutability: 'nonpayable',\n        type: 'function',\n    },\n    {\n        inputs: [],\n        name: 'asset',\n        outputs: [\n            {\n                name: 'assetTokenAddress',\n                type: 'address',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'account',\n                type: 'address',\n            },\n        ],\n        name: 'balanceOf',\n        outputs: [\n            {\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'shares',\n                type: 'uint256',\n            },\n        ],\n        name: 'convertToAssets',\n        outputs: [\n            {\n                name: 'assets',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'assets',\n                type: 'uint256',\n            },\n        ],\n        name: 'convertToShares',\n        outputs: [\n            {\n                name: 'shares',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'assets',\n                type: 'uint256',\n            },\n            {\n                name: 'receiver',\n                type: 'address',\n            },\n        ],\n        name: 'deposit',\n        outputs: [\n            {\n                name: 'shares',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'nonpayable',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'caller',\n                type: 'address',\n            },\n        ],\n        name: 'maxDeposit',\n        outputs: [\n            {\n                name: 'maxAssets',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'caller',\n                type: 'address',\n            },\n        ],\n        name: 'maxMint',\n        outputs: [\n            {\n                name: 'maxShares',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'owner',\n                type: 'address',\n            },\n        ],\n        name: 'maxRedeem',\n        outputs: [\n            {\n                name: 'maxShares',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'owner',\n                type: 'address',\n            },\n        ],\n        name: 'maxWithdraw',\n        outputs: [\n            {\n                name: 'maxAssets',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'shares',\n                type: 'uint256',\n            },\n            {\n                name: 'receiver',\n                type: 'address',\n            },\n        ],\n        name: 'mint',\n        outputs: [\n            {\n                name: 'assets',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'nonpayable',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'assets',\n                type: 'uint256',\n            },\n        ],\n        name: 'previewDeposit',\n        outputs: [\n            {\n                name: 'shares',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'shares',\n                type: 'uint256',\n            },\n        ],\n        name: 'previewMint',\n        outputs: [\n            {\n                name: 'assets',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'shares',\n                type: 'uint256',\n            },\n        ],\n        name: 'previewRedeem',\n        outputs: [\n            {\n                name: 'assets',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'assets',\n                type: 'uint256',\n            },\n        ],\n        name: 'previewWithdraw',\n        outputs: [\n            {\n                name: 'shares',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'shares',\n                type: 'uint256',\n            },\n            {\n                name: 'receiver',\n                type: 'address',\n            },\n            {\n                name: 'owner',\n                type: 'address',\n            },\n        ],\n        name: 'redeem',\n        outputs: [\n            {\n                name: 'assets',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'nonpayable',\n        type: 'function',\n    },\n    {\n        inputs: [],\n        name: 'totalAssets',\n        outputs: [\n            {\n                name: 'totalManagedAssets',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [],\n        name: 'totalSupply',\n        outputs: [\n            {\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'to',\n                type: 'address',\n            },\n            {\n                name: 'amount',\n                type: 'uint256',\n            },\n        ],\n        name: 'transfer',\n        outputs: [\n            {\n                type: 'bool',\n            },\n        ],\n        stateMutability: 'nonpayable',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'from',\n                type: 'address',\n            },\n            {\n                name: 'to',\n                type: 'address',\n            },\n            {\n                name: 'amount',\n                type: 'uint256',\n            },\n        ],\n        name: 'transferFrom',\n        outputs: [\n            {\n                type: 'bool',\n            },\n        ],\n        stateMutability: 'nonpayable',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                name: 'assets',\n                type: 'uint256',\n            },\n            {\n                name: 'receiver',\n                type: 'address',\n            },\n            {\n                name: 'owner',\n                type: 'address',\n            },\n        ],\n        name: 'withdraw',\n        outputs: [\n            {\n                name: 'shares',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'nonpayable',\n        type: 'function',\n    },\n];\n//# sourceMappingURL=abis.js.map","import { InvalidDefinitionTypeError, } from '../../errors/abi.js';\nexport function formatAbiItem(abiItem, { includeName = false } = {}) {\n    if (abiItem.type !== 'function' &&\n        abiItem.type !== 'event' &&\n        abiItem.type !== 'error')\n        throw new InvalidDefinitionTypeError(abiItem.type);\n    return `${abiItem.name}(${formatAbiParams(abiItem.inputs, { includeName })})`;\n}\nexport function formatAbiParams(params, { includeName = false } = {}) {\n    if (!params)\n        return '';\n    return params\n        .map((param) => formatAbiParam(param, { includeName }))\n        .join(includeName ? ', ' : ',');\n}\nfunction formatAbiParam(param, { includeName }) {\n    if (param.type.startsWith('tuple')) {\n        return `(${formatAbiParams(param.components, { includeName })})${param.type.slice('tuple'.length)}`;\n    }\n    return param.type + (includeName && param.name ? ` ${param.name}` : '');\n}\n//# sourceMappingURL=formatAbiItem.js.map","import { formatAbiItem, formatAbiParams } from '../utils/abi/formatAbiItem.js';\nimport { size } from '../utils/data/size.js';\nimport { BaseError } from './base.js';\nexport class AbiConstructorNotFoundError extends BaseError {\n    constructor({ docsPath }) {\n        super([\n            'A constructor was not found on the ABI.',\n            'Make sure you are using the correct ABI and that the constructor exists on it.',\n        ].join('\\n'), {\n            docsPath,\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiConstructorNotFoundError'\n        });\n    }\n}\nexport class AbiConstructorParamsNotFoundError extends BaseError {\n    constructor({ docsPath }) {\n        super([\n            'Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.',\n            'Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists.',\n        ].join('\\n'), {\n            docsPath,\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiConstructorParamsNotFoundError'\n        });\n    }\n}\nexport class AbiDecodingDataSizeInvalidError extends BaseError {\n    constructor({ data, size }) {\n        super([\n            `Data size of ${size} bytes is invalid.`,\n            'Size must be in increments of 32 bytes (size % 32 === 0).',\n        ].join('\\n'), { metaMessages: [`Data: ${data} (${size} bytes)`] });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiDecodingDataSizeInvalidError'\n        });\n    }\n}\nexport class AbiDecodingDataSizeTooSmallError extends BaseError {\n    constructor({ data, params, size, }) {\n        super([`Data size of ${size} bytes is too small for given parameters.`].join('\\n'), {\n            metaMessages: [\n                `Params: (${formatAbiParams(params, { includeName: true })})`,\n                `Data:   ${data} (${size} bytes)`,\n            ],\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiDecodingDataSizeTooSmallError'\n        });\n        Object.defineProperty(this, \"data\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"params\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"size\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.data = data;\n        this.params = params;\n        this.size = size;\n    }\n}\nexport class AbiDecodingOffsetOutOfBoundsError extends BaseError {\n    constructor({ offset, position }) {\n        super(`Offset at \"${offset}\" is out-of-bounds (current position: \"${position}\").`);\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiDecodingOffsetOutOfBoundsError'\n        });\n    }\n}\nexport class AbiDecodingZeroDataError extends BaseError {\n    constructor() {\n        super('Cannot decode zero data (\"0x\") with ABI parameters.');\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiDecodingZeroDataError'\n        });\n    }\n}\nexport class AbiEncodingArrayLengthMismatchError extends BaseError {\n    constructor({ expectedLength, givenLength, type, }) {\n        super([\n            `ABI encoding array length mismatch for type ${type}.`,\n            `Expected length: ${expectedLength}`,\n            `Given length: ${givenLength}`,\n        ].join('\\n'));\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiEncodingArrayLengthMismatchError'\n        });\n    }\n}\nexport class AbiEncodingBytesSizeMismatchError extends BaseError {\n    constructor({ expectedSize, value }) {\n        super(`Size of bytes \"${value}\" (bytes${size(value)}) does not match expected size (bytes${expectedSize}).`);\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiEncodingBytesSizeMismatchError'\n        });\n    }\n}\nexport class AbiEncodingLengthMismatchError extends BaseError {\n    constructor({ expectedLength, givenLength, }) {\n        super([\n            'ABI encoding params/values length mismatch.',\n            `Expected length (params): ${expectedLength}`,\n            `Given length (values): ${givenLength}`,\n        ].join('\\n'));\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiEncodingLengthMismatchError'\n        });\n    }\n}\nexport class AbiErrorInputsNotFoundError extends BaseError {\n    constructor(errorName, { docsPath }) {\n        super([\n            `Arguments (\\`args\\`) were provided to \"${errorName}\", but \"${errorName}\" on the ABI does not contain any parameters (\\`inputs\\`).`,\n            'Cannot encode error result without knowing what the parameter types are.',\n            'Make sure you are using the correct ABI and that the inputs exist on it.',\n        ].join('\\n'), {\n            docsPath,\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiErrorInputsNotFoundError'\n        });\n    }\n}\nexport class AbiErrorNotFoundError extends BaseError {\n    constructor(errorName, { docsPath } = {}) {\n        super([\n            `Error ${errorName ? `\"${errorName}\" ` : ''}not found on ABI.`,\n            'Make sure you are using the correct ABI and that the error exists on it.',\n        ].join('\\n'), {\n            docsPath,\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiErrorNotFoundError'\n        });\n    }\n}\nexport class AbiErrorSignatureNotFoundError extends BaseError {\n    constructor(signature, { docsPath }) {\n        super([\n            `Encoded error signature \"${signature}\" not found on ABI.`,\n            'Make sure you are using the correct ABI and that the error exists on it.',\n            `You can look up the decoded signature here: https://openchain.xyz/signatures?query=${signature}.`,\n        ].join('\\n'), {\n            docsPath,\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiErrorSignatureNotFoundError'\n        });\n        Object.defineProperty(this, \"signature\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.signature = signature;\n    }\n}\nexport class AbiEventSignatureEmptyTopicsError extends BaseError {\n    constructor({ docsPath }) {\n        super('Cannot extract event signature from empty topics.', {\n            docsPath,\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiEventSignatureEmptyTopicsError'\n        });\n    }\n}\nexport class AbiEventSignatureNotFoundError extends BaseError {\n    constructor(signature, { docsPath }) {\n        super([\n            `Encoded event signature \"${signature}\" not found on ABI.`,\n            'Make sure you are using the correct ABI and that the event exists on it.',\n            `You can look up the signature here: https://openchain.xyz/signatures?query=${signature}.`,\n        ].join('\\n'), {\n            docsPath,\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiEventSignatureNotFoundError'\n        });\n    }\n}\nexport class AbiEventNotFoundError extends BaseError {\n    constructor(eventName, { docsPath } = {}) {\n        super([\n            `Event ${eventName ? `\"${eventName}\" ` : ''}not found on ABI.`,\n            'Make sure you are using the correct ABI and that the event exists on it.',\n        ].join('\\n'), {\n            docsPath,\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiEventNotFoundError'\n        });\n    }\n}\nexport class AbiFunctionNotFoundError extends BaseError {\n    constructor(functionName, { docsPath } = {}) {\n        super([\n            `Function ${functionName ? `\"${functionName}\" ` : ''}not found on ABI.`,\n            'Make sure you are using the correct ABI and that the function exists on it.',\n        ].join('\\n'), {\n            docsPath,\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiFunctionNotFoundError'\n        });\n    }\n}\nexport class AbiFunctionOutputsNotFoundError extends BaseError {\n    constructor(functionName, { docsPath }) {\n        super([\n            `Function \"${functionName}\" does not contain any \\`outputs\\` on ABI.`,\n            'Cannot decode function result without knowing what the parameter types are.',\n            'Make sure you are using the correct ABI and that the function exists on it.',\n        ].join('\\n'), {\n            docsPath,\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiFunctionOutputsNotFoundError'\n        });\n    }\n}\nexport class AbiFunctionSignatureNotFoundError extends BaseError {\n    constructor(signature, { docsPath }) {\n        super([\n            `Encoded function signature \"${signature}\" not found on ABI.`,\n            'Make sure you are using the correct ABI and that the function exists on it.',\n            `You can look up the signature here: https://openchain.xyz/signatures?query=${signature}.`,\n        ].join('\\n'), {\n            docsPath,\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiFunctionSignatureNotFoundError'\n        });\n    }\n}\nexport class AbiItemAmbiguityError extends BaseError {\n    constructor(x, y) {\n        super('Found ambiguous types in overloaded ABI items.', {\n            metaMessages: [\n                `\\`${x.type}\\` in \\`${formatAbiItem(x.abiItem)}\\`, and`,\n                `\\`${y.type}\\` in \\`${formatAbiItem(y.abiItem)}\\``,\n                '',\n                'These types encode differently and cannot be distinguished at runtime.',\n                'Remove one of the ambiguous items in the ABI.',\n            ],\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AbiItemAmbiguityError'\n        });\n    }\n}\nexport class BytesSizeMismatchError extends BaseError {\n    constructor({ expectedSize, givenSize, }) {\n        super(`Expected bytes${expectedSize}, got bytes${givenSize}.`);\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'BytesSizeMismatchError'\n        });\n    }\n}\nexport class DecodeLogDataMismatch extends BaseError {\n    constructor({ abiItem, data, params, size, }) {\n        super([\n            `Data size of ${size} bytes is too small for non-indexed event parameters.`,\n        ].join('\\n'), {\n            metaMessages: [\n                `Params: (${formatAbiParams(params, { includeName: true })})`,\n                `Data:   ${data} (${size} bytes)`,\n            ],\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'DecodeLogDataMismatch'\n        });\n        Object.defineProperty(this, \"abiItem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"data\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"params\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"size\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.abiItem = abiItem;\n        this.data = data;\n        this.params = params;\n        this.size = size;\n    }\n}\nexport class DecodeLogTopicsMismatch extends BaseError {\n    constructor({ abiItem, param, }) {\n        super([\n            `Expected a topic for indexed event parameter${param.name ? ` \"${param.name}\"` : ''} on event \"${formatAbiItem(abiItem, { includeName: true })}\".`,\n        ].join('\\n'));\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'DecodeLogTopicsMismatch'\n        });\n        Object.defineProperty(this, \"abiItem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.abiItem = abiItem;\n    }\n}\nexport class InvalidAbiEncodingTypeError extends BaseError {\n    constructor(type, { docsPath }) {\n        super([\n            `Type \"${type}\" is not a valid encoding type.`,\n            'Please provide a valid ABI type.',\n        ].join('\\n'), { docsPath });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'InvalidAbiEncodingType'\n        });\n    }\n}\nexport class InvalidAbiDecodingTypeError extends BaseError {\n    constructor(type, { docsPath }) {\n        super([\n            `Type \"${type}\" is not a valid decoding type.`,\n            'Please provide a valid ABI type.',\n        ].join('\\n'), { docsPath });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'InvalidAbiDecodingType'\n        });\n    }\n}\nexport class InvalidArrayError extends BaseError {\n    constructor(value) {\n        super([`Value \"${value}\" is not a valid array.`].join('\\n'));\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'InvalidArrayError'\n        });\n    }\n}\nexport class InvalidDefinitionTypeError extends BaseError {\n    constructor(type) {\n        super([\n            `\"${type}\" is not a valid definition type.`,\n            'Valid types: \"function\", \"event\", \"error\"',\n        ].join('\\n'));\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'InvalidDefinitionTypeError'\n        });\n    }\n}\nexport class UnsupportedPackedAbiType extends BaseError {\n    constructor(type) {\n        super(`Type \"${type}\" is not supported for packed encoding.`);\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'UnsupportedPackedAbiType'\n        });\n    }\n}\n//# sourceMappingURL=abi.js.map","import { InvalidBytesBooleanError } from '../../errors/encoding.js';\nimport { trim } from '../data/trim.js';\nimport { assertSize, hexToBigInt, hexToNumber, } from './fromHex.js';\nimport { bytesToHex } from './toHex.js';\n/**\n * Decodes a byte array into a UTF-8 string, hex value, number, bigint or boolean.\n *\n * - Docs: https://viem.sh/docs/utilities/fromBytes\n * - Example: https://viem.sh/docs/utilities/fromBytes#usage\n *\n * @param bytes Byte array to decode.\n * @param toOrOpts Type to convert to or options.\n * @returns Decoded value.\n *\n * @example\n * import { fromBytes } from 'viem'\n * const data = fromBytes(new Uint8Array([1, 164]), 'number')\n * // 420\n *\n * @example\n * import { fromBytes } from 'viem'\n * const data = fromBytes(\n *   new Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]),\n *   'string'\n * )\n * // 'Hello world'\n */\nexport function fromBytes(bytes, toOrOpts) {\n    const opts = typeof toOrOpts === 'string' ? { to: toOrOpts } : toOrOpts;\n    const to = opts.to;\n    if (to === 'number')\n        return bytesToNumber(bytes, opts);\n    if (to === 'bigint')\n        return bytesToBigInt(bytes, opts);\n    if (to === 'boolean')\n        return bytesToBool(bytes, opts);\n    if (to === 'string')\n        return bytesToString(bytes, opts);\n    return bytesToHex(bytes, opts);\n}\n/**\n * Decodes a byte array into a bigint.\n *\n * - Docs: https://viem.sh/docs/utilities/fromBytes#bytestobigint\n *\n * @param bytes Byte array to decode.\n * @param opts Options.\n * @returns BigInt value.\n *\n * @example\n * import { bytesToBigInt } from 'viem'\n * const data = bytesToBigInt(new Uint8Array([1, 164]))\n * // 420n\n */\nexport function bytesToBigInt(bytes, opts = {}) {\n    if (typeof opts.size !== 'undefined')\n        assertSize(bytes, { size: opts.size });\n    const hex = bytesToHex(bytes, opts);\n    return hexToBigInt(hex, opts);\n}\n/**\n * Decodes a byte array into a boolean.\n *\n * - Docs: https://viem.sh/docs/utilities/fromBytes#bytestobool\n *\n * @param bytes Byte array to decode.\n * @param opts Options.\n * @returns Boolean value.\n *\n * @example\n * import { bytesToBool } from 'viem'\n * const data = bytesToBool(new Uint8Array([1]))\n * // true\n */\nexport function bytesToBool(bytes_, opts = {}) {\n    let bytes = bytes_;\n    if (typeof opts.size !== 'undefined') {\n        assertSize(bytes, { size: opts.size });\n        bytes = trim(bytes);\n    }\n    if (bytes.length > 1 || bytes[0] > 1)\n        throw new InvalidBytesBooleanError(bytes);\n    return Boolean(bytes[0]);\n}\n/**\n * Decodes a byte array into a number.\n *\n * - Docs: https://viem.sh/docs/utilities/fromBytes#bytestonumber\n *\n * @param bytes Byte array to decode.\n * @param opts Options.\n * @returns Number value.\n *\n * @example\n * import { bytesToNumber } from 'viem'\n * const data = bytesToNumber(new Uint8Array([1, 164]))\n * // 420\n */\nexport function bytesToNumber(bytes, opts = {}) {\n    if (typeof opts.size !== 'undefined')\n        assertSize(bytes, { size: opts.size });\n    const hex = bytesToHex(bytes, opts);\n    return hexToNumber(hex, opts);\n}\n/**\n * Decodes a byte array into a UTF-8 string.\n *\n * - Docs: https://viem.sh/docs/utilities/fromBytes#bytestostring\n *\n * @param bytes Byte array to decode.\n * @param opts Options.\n * @returns String value.\n *\n * @example\n * import { bytesToString } from 'viem'\n * const data = bytesToString(new Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]))\n * // 'Hello world'\n */\nexport function bytesToString(bytes_, opts = {}) {\n    let bytes = bytes_;\n    if (typeof opts.size !== 'undefined') {\n        assertSize(bytes, { size: opts.size });\n        bytes = trim(bytes, { dir: 'right' });\n    }\n    return new TextDecoder().decode(bytes);\n}\n//# sourceMappingURL=fromBytes.js.map","import { AbiEncodingArrayLengthMismatchError, AbiEncodingBytesSizeMismatchError, AbiEncodingLengthMismatchError, InvalidAbiEncodingTypeError, InvalidArrayError, } from '../../errors/abi.js';\nimport { InvalidAddressError, } from '../../errors/address.js';\nimport { BaseError } from '../../errors/base.js';\nimport { isAddress } from '../address/isAddress.js';\nimport { concat } from '../data/concat.js';\nimport { padHex } from '../data/pad.js';\nimport { size } from '../data/size.js';\nimport { slice } from '../data/slice.js';\nimport { boolToHex, numberToHex, stringToHex, } from '../encoding/toHex.js';\n/**\n * @description Encodes a list of primitive values into an ABI-encoded hex value.\n *\n * - Docs: https://viem.sh/docs/abi/encodeAbiParameters#encodeabiparameters\n *\n *   Generates ABI encoded data using the [ABI specification](https://docs.soliditylang.org/en/latest/abi-spec), given a set of ABI parameters (inputs/outputs) and their corresponding values.\n *\n * @param params - a set of ABI Parameters (params), that can be in the shape of the inputs or outputs attribute of an ABI Item.\n * @param values - a set of values (values) that correspond to the given params.\n * @example\n * ```typescript\n * import { encodeAbiParameters } from 'viem'\n *\n * const encodedData = encodeAbiParameters(\n *   [\n *     { name: 'x', type: 'string' },\n *     { name: 'y', type: 'uint' },\n *     { name: 'z', type: 'bool' }\n *   ],\n *   ['wagmi', 420n, true]\n * )\n * ```\n *\n * You can also pass in Human Readable parameters with the parseAbiParameters utility.\n *\n * @example\n * ```typescript\n * import { encodeAbiParameters, parseAbiParameters } from 'viem'\n *\n * const encodedData = encodeAbiParameters(\n *   parseAbiParameters('string x, uint y, bool z'),\n *   ['wagmi', 420n, true]\n * )\n * ```\n */\nexport function encodeAbiParameters(params, values) {\n    if (params.length !== values.length)\n        throw new AbiEncodingLengthMismatchError({\n            expectedLength: params.length,\n            givenLength: values.length,\n        });\n    // Prepare the parameters to determine dynamic types to encode.\n    const preparedParams = prepareParams({\n        params: params,\n        values: values,\n    });\n    const data = encodeParams(preparedParams);\n    if (data.length === 0)\n        return '0x';\n    return data;\n}\nfunction prepareParams({ params, values, }) {\n    const preparedParams = [];\n    for (let i = 0; i < params.length; i++) {\n        preparedParams.push(prepareParam({ param: params[i], value: values[i] }));\n    }\n    return preparedParams;\n}\nfunction prepareParam({ param, value, }) {\n    const arrayComponents = getArrayComponents(param.type);\n    if (arrayComponents) {\n        const [length, type] = arrayComponents;\n        return encodeArray(value, { length, param: { ...param, type } });\n    }\n    if (param.type === 'tuple') {\n        return encodeTuple(value, {\n            param: param,\n        });\n    }\n    if (param.type === 'address') {\n        return encodeAddress(value);\n    }\n    if (param.type === 'bool') {\n        return encodeBool(value);\n    }\n    if (param.type.startsWith('uint') || param.type.startsWith('int')) {\n        const signed = param.type.startsWith('int');\n        return encodeNumber(value, { signed });\n    }\n    if (param.type.startsWith('bytes')) {\n        return encodeBytes(value, { param });\n    }\n    if (param.type === 'string') {\n        return encodeString(value);\n    }\n    throw new InvalidAbiEncodingTypeError(param.type, {\n        docsPath: '/docs/contract/encodeAbiParameters',\n    });\n}\nfunction encodeParams(preparedParams) {\n    // 1. Compute the size of the static part of the parameters.\n    let staticSize = 0;\n    for (let i = 0; i < preparedParams.length; i++) {\n        const { dynamic, encoded } = preparedParams[i];\n        if (dynamic)\n            staticSize += 32;\n        else\n            staticSize += size(encoded);\n    }\n    // 2. Split the parameters into static and dynamic parts.\n    const staticParams = [];\n    const dynamicParams = [];\n    let dynamicSize = 0;\n    for (let i = 0; i < preparedParams.length; i++) {\n        const { dynamic, encoded } = preparedParams[i];\n        if (dynamic) {\n            staticParams.push(numberToHex(staticSize + dynamicSize, { size: 32 }));\n            dynamicParams.push(encoded);\n            dynamicSize += size(encoded);\n        }\n        else {\n            staticParams.push(encoded);\n        }\n    }\n    // 3. Concatenate static and dynamic parts.\n    return concat([...staticParams, ...dynamicParams]);\n}\nfunction encodeAddress(value) {\n    if (!isAddress(value))\n        throw new InvalidAddressError({ address: value });\n    return { dynamic: false, encoded: padHex(value.toLowerCase()) };\n}\nfunction encodeArray(value, { length, param, }) {\n    const dynamic = length === null;\n    if (!Array.isArray(value))\n        throw new InvalidArrayError(value);\n    if (!dynamic && value.length !== length)\n        throw new AbiEncodingArrayLengthMismatchError({\n            expectedLength: length,\n            givenLength: value.length,\n            type: `${param.type}[${length}]`,\n        });\n    let dynamicChild = false;\n    const preparedParams = [];\n    for (let i = 0; i < value.length; i++) {\n        const preparedParam = prepareParam({ param, value: value[i] });\n        if (preparedParam.dynamic)\n            dynamicChild = true;\n        preparedParams.push(preparedParam);\n    }\n    if (dynamic || dynamicChild) {\n        const data = encodeParams(preparedParams);\n        if (dynamic) {\n            const length = numberToHex(preparedParams.length, { size: 32 });\n            return {\n                dynamic: true,\n                encoded: preparedParams.length > 0 ? concat([length, data]) : length,\n            };\n        }\n        if (dynamicChild)\n            return { dynamic: true, encoded: data };\n    }\n    return {\n        dynamic: false,\n        encoded: concat(preparedParams.map(({ encoded }) => encoded)),\n    };\n}\nfunction encodeBytes(value, { param }) {\n    const [, paramSize] = param.type.split('bytes');\n    const bytesSize = size(value);\n    if (!paramSize) {\n        let value_ = value;\n        // If the size is not divisible by 32 bytes, pad the end\n        // with empty bytes to the ceiling 32 bytes.\n        if (bytesSize % 32 !== 0)\n            value_ = padHex(value_, {\n                dir: 'right',\n                size: Math.ceil((value.length - 2) / 2 / 32) * 32,\n            });\n        return {\n            dynamic: true,\n            encoded: concat([padHex(numberToHex(bytesSize, { size: 32 })), value_]),\n        };\n    }\n    if (bytesSize !== Number.parseInt(paramSize))\n        throw new AbiEncodingBytesSizeMismatchError({\n            expectedSize: Number.parseInt(paramSize),\n            value,\n        });\n    return { dynamic: false, encoded: padHex(value, { dir: 'right' }) };\n}\nfunction encodeBool(value) {\n    if (typeof value !== 'boolean')\n        throw new BaseError(`Invalid boolean value: \"${value}\" (type: ${typeof value}). Expected: \\`true\\` or \\`false\\`.`);\n    return { dynamic: false, encoded: padHex(boolToHex(value)) };\n}\nfunction encodeNumber(value, { signed }) {\n    return {\n        dynamic: false,\n        encoded: numberToHex(value, {\n            size: 32,\n            signed,\n        }),\n    };\n}\nfunction encodeString(value) {\n    const hexValue = stringToHex(value);\n    const partsLength = Math.ceil(size(hexValue) / 32);\n    const parts = [];\n    for (let i = 0; i < partsLength; i++) {\n        parts.push(padHex(slice(hexValue, i * 32, (i + 1) * 32), {\n            dir: 'right',\n        }));\n    }\n    return {\n        dynamic: true,\n        encoded: concat([\n            padHex(numberToHex(size(hexValue), { size: 32 })),\n            ...parts,\n        ]),\n    };\n}\nfunction encodeTuple(value, { param }) {\n    let dynamic = false;\n    const preparedParams = [];\n    for (let i = 0; i < param.components.length; i++) {\n        const param_ = param.components[i];\n        const index = Array.isArray(value) ? i : param_.name;\n        const preparedParam = prepareParam({\n            param: param_,\n            value: value[index],\n        });\n        preparedParams.push(preparedParam);\n        if (preparedParam.dynamic)\n            dynamic = true;\n    }\n    return {\n        dynamic,\n        encoded: dynamic\n            ? encodeParams(preparedParams)\n            : concat(preparedParams.map(({ encoded }) => encoded)),\n    };\n}\nexport function getArrayComponents(type) {\n    const matches = type.match(/^(.*)\\[(\\d+)?\\]$/);\n    return matches\n        ? // Return `null` if the array is dynamic.\n            [matches[2] ? Number(matches[2]) : null, matches[1]]\n        : undefined;\n}\n//# sourceMappingURL=encodeAbiParameters.js.map","import { AbiDecodingDataSizeTooSmallError, AbiDecodingZeroDataError, InvalidAbiDecodingTypeError, } from '../../errors/abi.js';\nimport { checksumAddress, } from '../address/getAddress.js';\nimport { createCursor } from '../cursor.js';\nimport { size } from '../data/size.js';\nimport { sliceBytes } from '../data/slice.js';\nimport { trim } from '../data/trim.js';\nimport { bytesToBigInt, bytesToBool, bytesToNumber, bytesToString, } from '../encoding/fromBytes.js';\nimport { hexToBytes } from '../encoding/toBytes.js';\nimport { bytesToHex } from '../encoding/toHex.js';\nimport { getArrayComponents } from './encodeAbiParameters.js';\nexport function decodeAbiParameters(params, data) {\n    const bytes = typeof data === 'string' ? hexToBytes(data) : data;\n    const cursor = createCursor(bytes);\n    if (size(bytes) === 0 && params.length > 0)\n        throw new AbiDecodingZeroDataError();\n    if (size(data) && size(data) < 32)\n        throw new AbiDecodingDataSizeTooSmallError({\n            data: typeof data === 'string' ? data : bytesToHex(data),\n            params: params,\n            size: size(data),\n        });\n    let consumed = 0;\n    const values = [];\n    for (let i = 0; i < params.length; ++i) {\n        const param = params[i];\n        cursor.setPosition(consumed);\n        const [data, consumed_] = decodeParameter(cursor, param, {\n            staticPosition: 0,\n        });\n        consumed += consumed_;\n        values.push(data);\n    }\n    return values;\n}\nfunction decodeParameter(cursor, param, { staticPosition }) {\n    const arrayComponents = getArrayComponents(param.type);\n    if (arrayComponents) {\n        const [length, type] = arrayComponents;\n        return decodeArray(cursor, { ...param, type }, { length, staticPosition });\n    }\n    if (param.type === 'tuple')\n        return decodeTuple(cursor, param, { staticPosition });\n    if (param.type === 'address')\n        return decodeAddress(cursor);\n    if (param.type === 'bool')\n        return decodeBool(cursor);\n    if (param.type.startsWith('bytes'))\n        return decodeBytes(cursor, param, { staticPosition });\n    if (param.type.startsWith('uint') || param.type.startsWith('int'))\n        return decodeNumber(cursor, param);\n    if (param.type === 'string')\n        return decodeString(cursor, { staticPosition });\n    throw new InvalidAbiDecodingTypeError(param.type, {\n        docsPath: '/docs/contract/decodeAbiParameters',\n    });\n}\n////////////////////////////////////////////////////////////////////\n// Type Decoders\nconst sizeOfLength = 32;\nconst sizeOfOffset = 32;\nfunction decodeAddress(cursor) {\n    const value = cursor.readBytes(32);\n    return [checksumAddress(bytesToHex(sliceBytes(value, -20))), 32];\n}\nfunction decodeArray(cursor, param, { length, staticPosition }) {\n    // If the length of the array is not known in advance (dynamic array),\n    // this means we will need to wonder off to the pointer and decode.\n    if (!length) {\n        // Dealing with a dynamic type, so get the offset of the array data.\n        const offset = bytesToNumber(cursor.readBytes(sizeOfOffset));\n        // Start is the static position of current slot + offset.\n        const start = staticPosition + offset;\n        const startOfData = start + sizeOfLength;\n        // Get the length of the array from the offset.\n        cursor.setPosition(start);\n        const length = bytesToNumber(cursor.readBytes(sizeOfLength));\n        // Check if the array has any dynamic children.\n        const dynamicChild = hasDynamicChild(param);\n        let consumed = 0;\n        const value = [];\n        for (let i = 0; i < length; ++i) {\n            // If any of the children is dynamic, then all elements will be offset pointer, thus size of one slot (32 bytes).\n            // Otherwise, elements will be the size of their encoding (consumed bytes).\n            cursor.setPosition(startOfData + (dynamicChild ? i * 32 : consumed));\n            const [data, consumed_] = decodeParameter(cursor, param, {\n                staticPosition: startOfData,\n            });\n            consumed += consumed_;\n            value.push(data);\n        }\n        // As we have gone wondering, restore to the original position + next slot.\n        cursor.setPosition(staticPosition + 32);\n        return [value, 32];\n    }\n    // If the length of the array is known in advance,\n    // and the length of an element deeply nested in the array is not known,\n    // we need to decode the offset of the array data.\n    if (hasDynamicChild(param)) {\n        // Dealing with dynamic types, so get the offset of the array data.\n        const offset = bytesToNumber(cursor.readBytes(sizeOfOffset));\n        // Start is the static position of current slot + offset.\n        const start = staticPosition + offset;\n        const value = [];\n        for (let i = 0; i < length; ++i) {\n            // Move cursor along to the next slot (next offset pointer).\n            cursor.setPosition(start + i * 32);\n            const [data] = decodeParameter(cursor, param, {\n                staticPosition: start,\n            });\n            value.push(data);\n        }\n        // As we have gone wondering, restore to the original position + next slot.\n        cursor.setPosition(staticPosition + 32);\n        return [value, 32];\n    }\n    // If the length of the array is known in advance and the array is deeply static,\n    // then we can just decode each element in sequence.\n    let consumed = 0;\n    const value = [];\n    for (let i = 0; i < length; ++i) {\n        const [data, consumed_] = decodeParameter(cursor, param, {\n            staticPosition: staticPosition + consumed,\n        });\n        consumed += consumed_;\n        value.push(data);\n    }\n    return [value, consumed];\n}\nfunction decodeBool(cursor) {\n    return [bytesToBool(cursor.readBytes(32), { size: 32 }), 32];\n}\nfunction decodeBytes(cursor, param, { staticPosition }) {\n    const [_, size] = param.type.split('bytes');\n    if (!size) {\n        // Dealing with dynamic types, so get the offset of the bytes data.\n        const offset = bytesToNumber(cursor.readBytes(32));\n        // Set position of the cursor to start of bytes data.\n        cursor.setPosition(staticPosition + offset);\n        const length = bytesToNumber(cursor.readBytes(32));\n        // If there is no length, we have zero data.\n        if (length === 0) {\n            // As we have gone wondering, restore to the original position + next slot.\n            cursor.setPosition(staticPosition + 32);\n            return ['0x', 32];\n        }\n        const data = cursor.readBytes(length);\n        // As we have gone wondering, restore to the original position + next slot.\n        cursor.setPosition(staticPosition + 32);\n        return [bytesToHex(data), 32];\n    }\n    const value = bytesToHex(cursor.readBytes(Number.parseInt(size), 32));\n    return [value, 32];\n}\nfunction decodeNumber(cursor, param) {\n    const signed = param.type.startsWith('int');\n    const size = Number.parseInt(param.type.split('int')[1] || '256');\n    const value = cursor.readBytes(32);\n    return [\n        size > 48\n            ? bytesToBigInt(value, { signed })\n            : bytesToNumber(value, { signed }),\n        32,\n    ];\n}\nfunction decodeTuple(cursor, param, { staticPosition }) {\n    // Tuples can have unnamed components (i.e. they are arrays), so we must\n    // determine whether the tuple is named or unnamed. In the case of a named\n    // tuple, the value will be an object where each property is the name of the\n    // component. In the case of an unnamed tuple, the value will be an array.\n    const hasUnnamedChild = param.components.length === 0 || param.components.some(({ name }) => !name);\n    // Initialize the value to an object or an array, depending on whether the\n    // tuple is named or unnamed.\n    const value = hasUnnamedChild ? [] : {};\n    let consumed = 0;\n    // If the tuple has a dynamic child, we must first decode the offset to the\n    // tuple data.\n    if (hasDynamicChild(param)) {\n        // Dealing with dynamic types, so get the offset of the tuple data.\n        const offset = bytesToNumber(cursor.readBytes(sizeOfOffset));\n        // Start is the static position of referencing slot + offset.\n        const start = staticPosition + offset;\n        for (let i = 0; i < param.components.length; ++i) {\n            const component = param.components[i];\n            cursor.setPosition(start + consumed);\n            const [data, consumed_] = decodeParameter(cursor, component, {\n                staticPosition: start,\n            });\n            consumed += consumed_;\n            value[hasUnnamedChild ? i : component?.name] = data;\n        }\n        // As we have gone wondering, restore to the original position + next slot.\n        cursor.setPosition(staticPosition + 32);\n        return [value, 32];\n    }\n    // If the tuple has static children, we can just decode each component\n    // in sequence.\n    for (let i = 0; i < param.components.length; ++i) {\n        const component = param.components[i];\n        const [data, consumed_] = decodeParameter(cursor, component, {\n            staticPosition,\n        });\n        value[hasUnnamedChild ? i : component?.name] = data;\n        consumed += consumed_;\n    }\n    return [value, consumed];\n}\nfunction decodeString(cursor, { staticPosition }) {\n    // Get offset to start of string data.\n    const offset = bytesToNumber(cursor.readBytes(32));\n    // Start is the static position of current slot + offset.\n    const start = staticPosition + offset;\n    cursor.setPosition(start);\n    const length = bytesToNumber(cursor.readBytes(32));\n    // If there is no length, we have zero data (empty string).\n    if (length === 0) {\n        cursor.setPosition(staticPosition + 32);\n        return ['', 32];\n    }\n    const data = cursor.readBytes(length, 32);\n    const value = bytesToString(trim(data));\n    // As we have gone wondering, restore to the original position + next slot.\n    cursor.setPosition(staticPosition + 32);\n    return [value, 32];\n}\nfunction hasDynamicChild(param) {\n    const { type } = param;\n    if (type === 'string')\n        return true;\n    if (type === 'bytes')\n        return true;\n    if (type.endsWith('[]'))\n        return true;\n    if (type === 'tuple')\n        return param.components?.some(hasDynamicChild);\n    const arrayComponents = getArrayComponents(param.type);\n    if (arrayComponents &&\n        hasDynamicChild({ ...param, type: arrayComponents[1] }))\n        return true;\n    return false;\n}\n//# sourceMappingURL=decodeAbiParameters.js.map","import { toBytes } from '../encoding/toBytes.js';\nimport { keccak256 } from './keccak256.js';\nconst hash = (value) => keccak256(toBytes(value));\nexport function hashSignature(sig) {\n    return hash(sig);\n}\n//# sourceMappingURL=hashSignature.js.map","import { execTyped } from '../regex.js';\n// https://regexr.com/7f7rv\nconst tupleRegex = /^tuple(?<array>(\\[(\\d*)\\])*)$/;\n/**\n * Formats {@link AbiParameter} to human-readable ABI parameter.\n *\n * @param abiParameter - ABI parameter\n * @returns Human-readable ABI parameter\n *\n * @example\n * const result = formatAbiParameter({ type: 'address', name: 'from' })\n * //    ^? const result: 'address from'\n */\nexport function formatAbiParameter(abiParameter) {\n    let type = abiParameter.type;\n    if (tupleRegex.test(abiParameter.type) && 'components' in abiParameter) {\n        type = '(';\n        const length = abiParameter.components.length;\n        for (let i = 0; i < length; i++) {\n            const component = abiParameter.components[i];\n            type += formatAbiParameter(component);\n            if (i < length - 1)\n                type += ', ';\n        }\n        const result = execTyped(tupleRegex, abiParameter.type);\n        type += `)${result?.array ?? ''}`;\n        return formatAbiParameter({\n            ...abiParameter,\n            type,\n        });\n    }\n    // Add `indexed` to type if in `abiParameter`\n    if ('indexed' in abiParameter && abiParameter.indexed)\n        type = `${type} indexed`;\n    // Return human-readable ABI parameter\n    if (abiParameter.name)\n        return `${type} ${abiParameter.name}`;\n    return type;\n}\n//# sourceMappingURL=formatAbiParameter.js.map","// TODO: This looks cool. Need to check the performance of `new RegExp` versus defined inline though.\n// https://twitter.com/GabrielVergnaud/status/1622906834343366657\nexport function execTyped(regex, string) {\n    const match = regex.exec(string);\n    return match?.groups;\n}\n// `bytes<M>`: binary type of `M` bytes, `0 < M <= 32`\n// https://regexr.com/6va55\nexport const bytesRegex = /^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/;\n// `(u)int<M>`: (un)signed integer type of `M` bits, `0 < M <= 256`, `M % 8 == 0`\n// https://regexr.com/6v8hp\nexport const integerRegex = /^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;\nexport const isTupleRegex = /^\\(.+?\\).*?$/;\n//# sourceMappingURL=regex.js.map","import { formatAbiParameter, } from './formatAbiParameter.js';\n/**\n * Formats {@link AbiParameter}s to human-readable ABI parameters.\n *\n * @param abiParameters - ABI parameters\n * @returns Human-readable ABI parameters\n *\n * @example\n * const result = formatAbiParameters([\n *   //  ^? const result: 'address from, uint256 tokenId'\n *   { type: 'address', name: 'from' },\n *   { type: 'uint256', name: 'tokenId' },\n * ])\n */\nexport function formatAbiParameters(abiParameters) {\n    let params = '';\n    const length = abiParameters.length;\n    for (let i = 0; i < length; i++) {\n        const abiParameter = abiParameters[i];\n        params += formatAbiParameter(abiParameter);\n        if (i !== length - 1)\n            params += ', ';\n    }\n    return params;\n}\n//# sourceMappingURL=formatAbiParameters.js.map","import { formatAbiItem } from 'abitype';\nimport { normalizeSignature, } from './normalizeSignature.js';\n/**\n * Returns the signature for a given function or event definition.\n *\n * @example\n * const signature = toSignature('function ownerOf(uint256 tokenId)')\n * // 'ownerOf(uint256)'\n *\n * @example\n * const signature_3 = toSignature({\n *   name: 'ownerOf',\n *   type: 'function',\n *   inputs: [{ name: 'tokenId', type: 'uint256' }],\n *   outputs: [],\n *   stateMutability: 'view',\n * })\n * // 'ownerOf(uint256)'\n */\nexport const toSignature = (def) => {\n    const def_ = (() => {\n        if (typeof def === 'string')\n            return def;\n        return formatAbiItem(def);\n    })();\n    return normalizeSignature(def_);\n};\n//# sourceMappingURL=toSignature.js.map","import { BaseError } from '../../errors/base.js';\nexport function normalizeSignature(signature) {\n    let active = true;\n    let current = '';\n    let level = 0;\n    let result = '';\n    let valid = false;\n    for (let i = 0; i < signature.length; i++) {\n        const char = signature[i];\n        // If the character is a separator, we want to reactivate.\n        if (['(', ')', ','].includes(char))\n            active = true;\n        // If the character is a \"level\" token, we want to increment/decrement.\n        if (char === '(')\n            level++;\n        if (char === ')')\n            level--;\n        // If we aren't active, we don't want to mutate the result.\n        if (!active)\n            continue;\n        // If level === 0, we are at the definition level.\n        if (level === 0) {\n            if (char === ' ' && ['event', 'function', ''].includes(result))\n                result = '';\n            else {\n                result += char;\n                // If we are at the end of the definition, we must be finished.\n                if (char === ')') {\n                    valid = true;\n                    break;\n                }\n            }\n            continue;\n        }\n        // Ignore spaces\n        if (char === ' ') {\n            // If the previous character is a separator, and the current section isn't empty, we want to deactivate.\n            if (signature[i - 1] !== ',' && current !== ',' && current !== ',(') {\n                current = '';\n                active = false;\n            }\n            continue;\n        }\n        result += char;\n        current += char;\n    }\n    if (!valid)\n        throw new BaseError('Unable to normalize signature.');\n    return result;\n}\n//# sourceMappingURL=normalizeSignature.js.map","import { formatAbiParameters, } from './formatAbiParameters.js';\n/**\n * Formats ABI item (e.g. error, event, function) into human-readable ABI item\n *\n * @param abiItem - ABI item\n * @returns Human-readable ABI item\n */\nexport function formatAbiItem(abiItem) {\n    if (abiItem.type === 'function')\n        return `function ${abiItem.name}(${formatAbiParameters(abiItem.inputs)})${abiItem.stateMutability && abiItem.stateMutability !== 'nonpayable'\n            ? ` ${abiItem.stateMutability}`\n            : ''}${abiItem.outputs.length\n            ? ` returns (${formatAbiParameters(abiItem.outputs)})`\n            : ''}`;\n    else if (abiItem.type === 'event')\n        return `event ${abiItem.name}(${formatAbiParameters(abiItem.inputs)})`;\n    else if (abiItem.type === 'error')\n        return `error ${abiItem.name}(${formatAbiParameters(abiItem.inputs)})`;\n    else if (abiItem.type === 'constructor')\n        return `constructor(${formatAbiParameters(abiItem.inputs)})${abiItem.stateMutability === 'payable' ? ' payable' : ''}`;\n    else if (abiItem.type === 'fallback')\n        return 'fallback()';\n    return 'receive() external payable';\n}\n//# sourceMappingURL=formatAbiItem.js.map","import { hashSignature } from './hashSignature.js';\nimport { toSignature } from './toSignature.js';\n/**\n * Returns the hash (of the function/event signature) for a given event or function definition.\n */\nexport function toSignatureHash(fn) {\n    return hashSignature(toSignature(fn));\n}\n//# sourceMappingURL=toSignatureHash.js.map","import { toSignatureHash, } from './toSignatureHash.js';\n/**\n * Returns the event selector for a given event definition.\n *\n * @example\n * const selector = toEventSelector('Transfer(address indexed from, address indexed to, uint256 amount)')\n * // 0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\n */\nexport const toEventSelector = toSignatureHash;\n//# sourceMappingURL=toEventSelector.js.map","import { slice } from '../data/slice.js';\nimport { toSignatureHash, } from './toSignatureHash.js';\n/**\n * Returns the function selector for a given function definition.\n *\n * @example\n * const selector = toFunctionSelector('function ownerOf(uint256 tokenId)')\n * // 0x6352211e\n */\nexport const toFunctionSelector = (fn) => slice(toSignatureHash(fn), 0, 4);\n//# sourceMappingURL=toFunctionSelector.js.map","import { AbiItemAmbiguityError } from '../../errors/abi.js';\nimport { isHex } from '../../utils/data/isHex.js';\nimport { isAddress } from '../address/isAddress.js';\nimport { toEventSelector } from '../hash/toEventSelector.js';\nimport { toFunctionSelector, } from '../hash/toFunctionSelector.js';\nexport function getAbiItem(parameters) {\n    const { abi, args = [], name } = parameters;\n    const isSelector = isHex(name, { strict: false });\n    const abiItems = abi.filter((abiItem) => {\n        if (isSelector) {\n            if (abiItem.type === 'function')\n                return toFunctionSelector(abiItem) === name;\n            if (abiItem.type === 'event')\n                return toEventSelector(abiItem) === name;\n            return false;\n        }\n        return 'name' in abiItem && abiItem.name === name;\n    });\n    if (abiItems.length === 0)\n        return undefined;\n    if (abiItems.length === 1)\n        return abiItems[0];\n    let matchedAbiItem = undefined;\n    for (const abiItem of abiItems) {\n        if (!('inputs' in abiItem))\n            continue;\n        if (!args || args.length === 0) {\n            if (!abiItem.inputs || abiItem.inputs.length === 0)\n                return abiItem;\n            continue;\n        }\n        if (!abiItem.inputs)\n            continue;\n        if (abiItem.inputs.length === 0)\n            continue;\n        if (abiItem.inputs.length !== args.length)\n            continue;\n        const matched = args.every((arg, index) => {\n            const abiParameter = 'inputs' in abiItem && abiItem.inputs[index];\n            if (!abiParameter)\n                return false;\n            return isArgOfType(arg, abiParameter);\n        });\n        if (matched) {\n            // Check for ambiguity against already matched parameters (e.g. `address` vs `bytes20`).\n            if (matchedAbiItem &&\n                'inputs' in matchedAbiItem &&\n                matchedAbiItem.inputs) {\n                const ambiguousTypes = getAmbiguousTypes(abiItem.inputs, matchedAbiItem.inputs, args);\n                if (ambiguousTypes)\n                    throw new AbiItemAmbiguityError({\n                        abiItem,\n                        type: ambiguousTypes[0],\n                    }, {\n                        abiItem: matchedAbiItem,\n                        type: ambiguousTypes[1],\n                    });\n            }\n            matchedAbiItem = abiItem;\n        }\n    }\n    if (matchedAbiItem)\n        return matchedAbiItem;\n    return abiItems[0];\n}\nexport function isArgOfType(arg, abiParameter) {\n    const argType = typeof arg;\n    const abiParameterType = abiParameter.type;\n    switch (abiParameterType) {\n        case 'address':\n            return isAddress(arg, { strict: false });\n        case 'bool':\n            return argType === 'boolean';\n        case 'function':\n            return argType === 'string';\n        case 'string':\n            return argType === 'string';\n        default: {\n            if (abiParameterType === 'tuple' && 'components' in abiParameter)\n                return Object.values(abiParameter.components).every((component, index) => {\n                    return isArgOfType(Object.values(arg)[index], component);\n                });\n            // `(u)int<M>`: (un)signed integer type of `M` bits, `0 < M <= 256`, `M % 8 == 0`\n            // https://regexr.com/6v8hp\n            if (/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(abiParameterType))\n                return argType === 'number' || argType === 'bigint';\n            // `bytes<M>`: binary type of `M` bytes, `0 < M <= 32`\n            // https://regexr.com/6va55\n            if (/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(abiParameterType))\n                return argType === 'string' || arg instanceof Uint8Array;\n            // fixed-length (`<type>[M]`) and dynamic (`<type>[]`) arrays\n            // https://regexr.com/6va6i\n            if (/[a-z]+[1-9]{0,3}(\\[[0-9]{0,}\\])+$/.test(abiParameterType)) {\n                return (Array.isArray(arg) &&\n                    arg.every((x) => isArgOfType(x, {\n                        ...abiParameter,\n                        // Pop off `[]` or `[M]` from end of type\n                        type: abiParameterType.replace(/(\\[[0-9]{0,}\\])$/, ''),\n                    })));\n            }\n            return false;\n        }\n    }\n}\nexport function getAmbiguousTypes(sourceParameters, targetParameters, args) {\n    for (const parameterIndex in sourceParameters) {\n        const sourceParameter = sourceParameters[parameterIndex];\n        const targetParameter = targetParameters[parameterIndex];\n        if (sourceParameter.type === 'tuple' &&\n            targetParameter.type === 'tuple' &&\n            'components' in sourceParameter &&\n            'components' in targetParameter)\n            return getAmbiguousTypes(sourceParameter.components, targetParameter.components, args[parameterIndex]);\n        const types = [sourceParameter.type, targetParameter.type];\n        const ambiguous = (() => {\n            if (types.includes('address') && types.includes('bytes20'))\n                return true;\n            if (types.includes('address') && types.includes('string'))\n                return isAddress(args[parameterIndex], { strict: false });\n            if (types.includes('address') && types.includes('bytes'))\n                return isAddress(args[parameterIndex], { strict: false });\n            return false;\n        })();\n        if (ambiguous)\n            return types;\n    }\n    return;\n}\n//# sourceMappingURL=getAbiItem.js.map","import { AbiFunctionNotFoundError, AbiFunctionOutputsNotFoundError, } from '../../errors/abi.js';\nimport { decodeAbiParameters, } from './decodeAbiParameters.js';\nimport { getAbiItem } from './getAbiItem.js';\nconst docsPath = '/docs/contract/decodeFunctionResult';\nexport function decodeFunctionResult(parameters) {\n    const { abi, args, functionName, data } = parameters;\n    let abiItem = abi[0];\n    if (functionName) {\n        const item = getAbiItem({ abi, args, name: functionName });\n        if (!item)\n            throw new AbiFunctionNotFoundError(functionName, { docsPath });\n        abiItem = item;\n    }\n    if (abiItem.type !== 'function')\n        throw new AbiFunctionNotFoundError(undefined, { docsPath });\n    if (!abiItem.outputs)\n        throw new AbiFunctionOutputsNotFoundError(abiItem.name, { docsPath });\n    const values = decodeAbiParameters(abiItem.outputs, data);\n    if (values && values.length > 1)\n        return values;\n    if (values && values.length === 1)\n        return values[0];\n    return undefined;\n}\n//# sourceMappingURL=decodeFunctionResult.js.map","import { AbiFunctionNotFoundError, } from '../../errors/abi.js';\nimport { toFunctionSelector, } from '../hash/toFunctionSelector.js';\nimport { formatAbiItem } from './formatAbiItem.js';\nimport { getAbiItem } from './getAbiItem.js';\nconst docsPath = '/docs/contract/encodeFunctionData';\nexport function prepareEncodeFunctionData(parameters) {\n    const { abi, args, functionName } = parameters;\n    let abiItem = abi[0];\n    if (functionName) {\n        const item = getAbiItem({\n            abi,\n            args,\n            name: functionName,\n        });\n        if (!item)\n            throw new AbiFunctionNotFoundError(functionName, { docsPath });\n        abiItem = item;\n    }\n    if (abiItem.type !== 'function')\n        throw new AbiFunctionNotFoundError(undefined, { docsPath });\n    return {\n        abi: [abiItem],\n        functionName: toFunctionSelector(formatAbiItem(abiItem)),\n    };\n}\n//# sourceMappingURL=prepareEncodeFunctionData.js.map","import { concatHex } from '../data/concat.js';\nimport { encodeAbiParameters, } from './encodeAbiParameters.js';\nimport { prepareEncodeFunctionData } from './prepareEncodeFunctionData.js';\nexport function encodeFunctionData(parameters) {\n    const { args } = parameters;\n    const { abi, functionName } = (() => {\n        if (parameters.abi.length === 1 &&\n            parameters.functionName?.startsWith('0x'))\n            return parameters;\n        return prepareEncodeFunctionData(parameters);\n    })();\n    const abiItem = abi[0];\n    const signature = functionName;\n    const data = 'inputs' in abiItem && abiItem.inputs\n        ? encodeAbiParameters(abiItem.inputs, args ?? [])\n        : undefined;\n    return concatHex([signature, data ?? '0x']);\n}\n//# sourceMappingURL=encodeFunctionData.js.map","import { ChainDoesNotSupportContract, } from '../../errors/chain.js';\nexport function getChainContractAddress({ blockNumber, chain, contract: name, }) {\n    const contract = chain?.contracts?.[name];\n    if (!contract)\n        throw new ChainDoesNotSupportContract({\n            chain,\n            contract: { name },\n        });\n    if (blockNumber &&\n        contract.blockCreated &&\n        contract.blockCreated > blockNumber)\n        throw new ChainDoesNotSupportContract({\n            blockNumber,\n            chain,\n            contract: {\n                name,\n                blockCreated: contract.blockCreated,\n            },\n        });\n    return contract.address;\n}\n//# sourceMappingURL=getChainContractAddress.js.map","// https://docs.soliditylang.org/en/v0.8.16/control-structures.html#panic-via-assert-and-error-via-require\nexport const panicReasons = {\n    1: 'An `assert` condition failed.',\n    17: 'Arithmetic operation resulted in underflow or overflow.',\n    18: 'Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).',\n    33: 'Attempted to convert to an invalid type.',\n    34: 'Attempted to access a storage byte array that is incorrectly encoded.',\n    49: 'Performed `.pop()` on an empty array',\n    50: 'Array index is out of bounds.',\n    65: 'Allocated too much memory or created an array which is too large.',\n    81: 'Attempted to call a zero-initialized variable of internal function type.',\n};\nexport const solidityError = {\n    inputs: [\n        {\n            name: 'message',\n            type: 'string',\n        },\n    ],\n    name: 'Error',\n    type: 'error',\n};\nexport const solidityPanic = {\n    inputs: [\n        {\n            name: 'reason',\n            type: 'uint256',\n        },\n    ],\n    name: 'Panic',\n    type: 'error',\n};\n//# sourceMappingURL=solidity.js.map","export function parseAccount(account) {\n    if (typeof account === 'string')\n        return { address: account, type: 'json-rpc' };\n    return account;\n}\n//# sourceMappingURL=parseAccount.js.map","import { solidityError, solidityPanic } from '../../constants/solidity.js';\nimport { AbiDecodingZeroDataError, AbiErrorSignatureNotFoundError, } from '../../errors/abi.js';\nimport { slice } from '../data/slice.js';\nimport { toFunctionSelector, } from '../hash/toFunctionSelector.js';\nimport { decodeAbiParameters, } from './decodeAbiParameters.js';\nimport { formatAbiItem } from './formatAbiItem.js';\nexport function decodeErrorResult(parameters) {\n    const { abi, data } = parameters;\n    const signature = slice(data, 0, 4);\n    if (signature === '0x')\n        throw new AbiDecodingZeroDataError();\n    const abi_ = [...(abi || []), solidityError, solidityPanic];\n    const abiItem = abi_.find((x) => x.type === 'error' && signature === toFunctionSelector(formatAbiItem(x)));\n    if (!abiItem)\n        throw new AbiErrorSignatureNotFoundError(signature, {\n            docsPath: '/docs/contract/decodeErrorResult',\n        });\n    return {\n        abiItem,\n        args: 'inputs' in abiItem && abiItem.inputs && abiItem.inputs.length > 0\n            ? decodeAbiParameters(abiItem.inputs, slice(data, 4))\n            : undefined,\n        errorName: abiItem.name,\n    };\n}\n//# sourceMappingURL=decodeErrorResult.js.map","export const stringify = (value, replacer, space) => JSON.stringify(value, (key, value_) => {\n    const value = typeof value_ === 'bigint' ? value_.toString() : value_;\n    return typeof replacer === 'function' ? replacer(key, value) : value;\n}, space);\n//# sourceMappingURL=stringify.js.map","import { stringify } from '../stringify.js';\nexport function formatAbiItemWithArgs({ abiItem, args, includeFunctionName = true, includeName = false, }) {\n    if (!('name' in abiItem))\n        return;\n    if (!('inputs' in abiItem))\n        return;\n    if (!abiItem.inputs)\n        return;\n    return `${includeFunctionName ? abiItem.name : ''}(${abiItem.inputs\n        .map((input, i) => `${includeName && input.name ? `${input.name}: ` : ''}${typeof args[i] === 'object' ? stringify(args[i]) : args[i]}`)\n        .join(', ')})`;\n}\n//# sourceMappingURL=formatAbiItemWithArgs.js.map","import { BaseError } from './base.js';\nexport class AccountStateConflictError extends BaseError {\n    constructor({ address }) {\n        super(`State for account \"${address}\" is set multiple times.`);\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'AccountStateConflictError'\n        });\n    }\n}\nexport class StateAssignmentConflictError extends BaseError {\n    constructor() {\n        super('state and stateDiff are set on the same account.');\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'StateAssignmentConflictError'\n        });\n    }\n}\nexport function prettyStateMapping(stateMapping) {\n    return stateMapping.reduce((pretty, { slot, value }) => {\n        return `${pretty}        ${slot}: ${value}\\n`;\n    }, '');\n}\nexport function prettyStateOverride(stateOverride) {\n    return stateOverride\n        .reduce((pretty, { address, ...state }) => {\n        let val = `${pretty}    ${address}:\\n`;\n        if (state.nonce)\n            val += `      nonce: ${state.nonce}\\n`;\n        if (state.balance)\n            val += `      balance: ${state.balance}\\n`;\n        if (state.code)\n            val += `      code: ${state.code}\\n`;\n        if (state.state) {\n            val += '      state:\\n';\n            val += prettyStateMapping(state.state);\n        }\n        if (state.stateDiff) {\n            val += '      stateDiff:\\n';\n            val += prettyStateMapping(state.stateDiff);\n        }\n        return val;\n    }, '  State Override:\\n')\n        .slice(0, -1);\n}\n//# sourceMappingURL=stateOverride.js.map","import { parseAccount } from '../accounts/utils/parseAccount.js';\nimport { panicReasons } from '../constants/solidity.js';\nimport { decodeErrorResult, } from '../utils/abi/decodeErrorResult.js';\nimport { formatAbiItem } from '../utils/abi/formatAbiItem.js';\nimport { formatAbiItemWithArgs } from '../utils/abi/formatAbiItemWithArgs.js';\nimport { getAbiItem } from '../utils/abi/getAbiItem.js';\nimport { formatEther } from '../utils/unit/formatEther.js';\nimport { formatGwei } from '../utils/unit/formatGwei.js';\nimport { AbiErrorSignatureNotFoundError } from './abi.js';\nimport { BaseError } from './base.js';\nimport { prettyStateOverride } from './stateOverride.js';\nimport { prettyPrint } from './transaction.js';\nimport { getContractAddress } from './utils.js';\nexport class CallExecutionError extends BaseError {\n    constructor(cause, { account: account_, docsPath, chain, data, gas, gasPrice, maxFeePerGas, maxPriorityFeePerGas, nonce, to, value, stateOverride, }) {\n        const account = account_ ? parseAccount(account_) : undefined;\n        let prettyArgs = prettyPrint({\n            from: account?.address,\n            to,\n            value: typeof value !== 'undefined' &&\n                `${formatEther(value)} ${chain?.nativeCurrency?.symbol || 'ETH'}`,\n            data,\n            gas,\n            gasPrice: typeof gasPrice !== 'undefined' && `${formatGwei(gasPrice)} gwei`,\n            maxFeePerGas: typeof maxFeePerGas !== 'undefined' &&\n                `${formatGwei(maxFeePerGas)} gwei`,\n            maxPriorityFeePerGas: typeof maxPriorityFeePerGas !== 'undefined' &&\n                `${formatGwei(maxPriorityFeePerGas)} gwei`,\n            nonce,\n        });\n        if (stateOverride) {\n            prettyArgs += `\\n${prettyStateOverride(stateOverride)}`;\n        }\n        super(cause.shortMessage, {\n            cause,\n            docsPath,\n            metaMessages: [\n                ...(cause.metaMessages ? [...cause.metaMessages, ' '] : []),\n                'Raw Call Arguments:',\n                prettyArgs,\n            ].filter(Boolean),\n        });\n        Object.defineProperty(this, \"cause\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'CallExecutionError'\n        });\n        this.cause = cause;\n    }\n}\nexport class ContractFunctionExecutionError extends BaseError {\n    constructor(cause, { abi, args, contractAddress, docsPath, functionName, sender, }) {\n        const abiItem = getAbiItem({ abi, args, name: functionName });\n        const formattedArgs = abiItem\n            ? formatAbiItemWithArgs({\n                abiItem,\n                args,\n                includeFunctionName: false,\n                includeName: false,\n            })\n            : undefined;\n        const functionWithParams = abiItem\n            ? formatAbiItem(abiItem, { includeName: true })\n            : undefined;\n        const prettyArgs = prettyPrint({\n            address: contractAddress && getContractAddress(contractAddress),\n            function: functionWithParams,\n            args: formattedArgs &&\n                formattedArgs !== '()' &&\n                `${[...Array(functionName?.length ?? 0).keys()]\n                    .map(() => ' ')\n                    .join('')}${formattedArgs}`,\n            sender,\n        });\n        super(cause.shortMessage ||\n            `An unknown error occurred while executing the contract function \"${functionName}\".`, {\n            cause,\n            docsPath,\n            metaMessages: [\n                ...(cause.metaMessages ? [...cause.metaMessages, ' '] : []),\n                'Contract Call:',\n                prettyArgs,\n            ].filter(Boolean),\n        });\n        Object.defineProperty(this, \"abi\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"args\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"cause\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"contractAddress\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"formattedArgs\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"functionName\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"sender\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'ContractFunctionExecutionError'\n        });\n        this.abi = abi;\n        this.args = args;\n        this.cause = cause;\n        this.contractAddress = contractAddress;\n        this.functionName = functionName;\n        this.sender = sender;\n    }\n}\nexport class ContractFunctionRevertedError extends BaseError {\n    constructor({ abi, data, functionName, message, }) {\n        let cause;\n        let decodedData = undefined;\n        let metaMessages;\n        let reason;\n        if (data && data !== '0x') {\n            try {\n                decodedData = decodeErrorResult({ abi, data });\n                const { abiItem, errorName, args: errorArgs } = decodedData;\n                if (errorName === 'Error') {\n                    reason = errorArgs[0];\n                }\n                else if (errorName === 'Panic') {\n                    const [firstArg] = errorArgs;\n                    reason = panicReasons[firstArg];\n                }\n                else {\n                    const errorWithParams = abiItem\n                        ? formatAbiItem(abiItem, { includeName: true })\n                        : undefined;\n                    const formattedArgs = abiItem && errorArgs\n                        ? formatAbiItemWithArgs({\n                            abiItem,\n                            args: errorArgs,\n                            includeFunctionName: false,\n                            includeName: false,\n                        })\n                        : undefined;\n                    metaMessages = [\n                        errorWithParams ? `Error: ${errorWithParams}` : '',\n                        formattedArgs && formattedArgs !== '()'\n                            ? `       ${[...Array(errorName?.length ?? 0).keys()]\n                                .map(() => ' ')\n                                .join('')}${formattedArgs}`\n                            : '',\n                    ];\n                }\n            }\n            catch (err) {\n                cause = err;\n            }\n        }\n        else if (message)\n            reason = message;\n        let signature;\n        if (cause instanceof AbiErrorSignatureNotFoundError) {\n            signature = cause.signature;\n            metaMessages = [\n                `Unable to decode signature \"${signature}\" as it was not found on the provided ABI.`,\n                'Make sure you are using the correct ABI and that the error exists on it.',\n                `You can look up the decoded signature here: https://openchain.xyz/signatures?query=${signature}.`,\n            ];\n        }\n        super((reason && reason !== 'execution reverted') || signature\n            ? [\n                `The contract function \"${functionName}\" reverted with the following ${signature ? 'signature' : 'reason'}:`,\n                reason || signature,\n            ].join('\\n')\n            : `The contract function \"${functionName}\" reverted.`, {\n            cause,\n            metaMessages,\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'ContractFunctionRevertedError'\n        });\n        Object.defineProperty(this, \"data\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"reason\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"signature\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.data = decodedData;\n        this.reason = reason;\n        this.signature = signature;\n    }\n}\nexport class ContractFunctionZeroDataError extends BaseError {\n    constructor({ functionName }) {\n        super(`The contract function \"${functionName}\" returned no data (\"0x\").`, {\n            metaMessages: [\n                'This could be due to any of the following:',\n                `  - The contract does not have the function \"${functionName}\",`,\n                '  - The parameters passed to the contract function may be invalid, or',\n                '  - The address is not a contract.',\n            ],\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'ContractFunctionZeroDataError'\n        });\n    }\n}\nexport class RawContractError extends BaseError {\n    constructor({ data, message, }) {\n        super(message || '');\n        Object.defineProperty(this, \"code\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 3\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'RawContractError'\n        });\n        Object.defineProperty(this, \"data\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.data = data;\n    }\n}\n//# sourceMappingURL=contract.js.map","import { panicReasons } from '../../constants/solidity.js';\nimport { BaseError } from '../../errors/base.js';\nimport { ContractFunctionRevertedError } from '../../errors/contract.js';\n/*\n * @description Checks if error is a valid null result UniversalResolver error\n */\nexport function isNullUniversalResolverError(err, callType) {\n    if (!(err instanceof BaseError))\n        return false;\n    const cause = err.walk((e) => e instanceof ContractFunctionRevertedError);\n    if (!(cause instanceof ContractFunctionRevertedError))\n        return false;\n    if (cause.data?.errorName === 'ResolverNotFound')\n        return true;\n    if (cause.data?.errorName === 'ResolverWildcardNotSupported')\n        return true;\n    if (cause.data?.errorName === 'ResolverNotContract')\n        return true;\n    if (cause.data?.errorName === 'ResolverError')\n        return true;\n    if (cause.data?.errorName === 'HttpError')\n        return true;\n    // Backwards compatibility for older UniversalResolver contracts\n    if (cause.reason?.includes('Wildcard on non-extended resolvers is not supported'))\n        return true;\n    // No primary name set for address.\n    if (callType === 'reverse' && cause.reason === panicReasons[50])\n        return true;\n    return false;\n}\n//# sourceMappingURL=errors.js.map","import { isHex } from '../data/isHex.js';\nexport function encodedLabelToLabelhash(label) {\n    if (label.length !== 66)\n        return null;\n    if (label.indexOf('[') !== 0)\n        return null;\n    if (label.indexOf(']') !== 65)\n        return null;\n    const hash = `0x${label.slice(1, 65)}`;\n    if (!isHex(hash))\n        return null;\n    return hash;\n}\n//# sourceMappingURL=encodedLabelToLabelhash.js.map","import { concat } from '../data/concat.js';\nimport { stringToBytes, toBytes, } from '../encoding/toBytes.js';\nimport { bytesToHex } from '../encoding/toHex.js';\nimport { keccak256 } from '../hash/keccak256.js';\nimport { encodedLabelToLabelhash, } from './encodedLabelToLabelhash.js';\n/**\n * @description Hashes ENS name\n *\n * - Since ENS names prohibit certain forbidden characters (e.g. underscore) and have other validation rules, you likely want to [normalize ENS names](https://docs.ens.domains/contract-api-reference/name-processing#normalising-names) with [UTS-46 normalization](https://unicode.org/reports/tr46) before passing them to `namehash`. You can use the built-in [`normalize`](https://viem.sh/docs/ens/utilities/normalize) function for this.\n *\n * @example\n * namehash('wevm.eth')\n * '0xf246651c1b9a6b141d19c2604e9a58f567973833990f830d882534a747801359'\n *\n * @link https://eips.ethereum.org/EIPS/eip-137\n */\nexport function namehash(name) {\n    let result = new Uint8Array(32).fill(0);\n    if (!name)\n        return bytesToHex(result);\n    const labels = name.split('.');\n    // Iterate in reverse order building up hash\n    for (let i = labels.length - 1; i >= 0; i -= 1) {\n        const hashFromEncodedLabel = encodedLabelToLabelhash(labels[i]);\n        const hashed = hashFromEncodedLabel\n            ? toBytes(hashFromEncodedLabel)\n            : keccak256(stringToBytes(labels[i]), 'bytes');\n        result = keccak256(concat([result, hashed]), 'bytes');\n    }\n    return bytesToHex(result);\n}\n//# sourceMappingURL=namehash.js.map","export function encodeLabelhash(hash) {\n    return `[${hash.slice(2)}]`;\n}\n//# sourceMappingURL=encodeLabelhash.js.map","import { stringToBytes, } from '../encoding/toBytes.js';\nimport { bytesToHex } from '../encoding/toHex.js';\nimport { keccak256 } from '../hash/keccak256.js';\nimport { encodedLabelToLabelhash, } from './encodedLabelToLabelhash.js';\n/**\n * @description Hashes ENS label\n *\n * - Since ENS labels prohibit certain forbidden characters (e.g. underscore) and have other validation rules, you likely want to [normalize ENS labels](https://docs.ens.domains/contract-api-reference/name-processing#normalising-names) with [UTS-46 normalization](https://unicode.org/reports/tr46) before passing them to `labelhash`. You can use the built-in [`normalize`](https://viem.sh/docs/ens/utilities/normalize) function for this.\n *\n * @example\n * labelhash('eth')\n * '0x4f5b812789fc606be1b3b16908db13fc7a9adf7ca72641f84d75b47069d3d7f0'\n */\nexport function labelhash(label) {\n    const result = new Uint8Array(32).fill(0);\n    if (!label)\n        return bytesToHex(result);\n    return encodedLabelToLabelhash(label) || keccak256(stringToBytes(label));\n}\n//# sourceMappingURL=labelhash.js.map","import { stringToBytes, } from '../encoding/toBytes.js';\nimport { encodeLabelhash, } from './encodeLabelhash.js';\nimport { labelhash } from './labelhash.js';\n/*\n * @description Encodes a DNS packet into a ByteArray containing a UDP payload.\n *\n * @example\n * packetToBytes('awkweb.eth')\n * '0x0661776b7765620365746800'\n *\n * @see https://docs.ens.domains/resolution/names#dns\n *\n */\nexport function packetToBytes(packet) {\n    // strip leading and trailing `.`\n    const value = packet.replace(/^\\.|\\.$/gm, '');\n    if (value.length === 0)\n        return new Uint8Array(1);\n    const bytes = new Uint8Array(stringToBytes(value).byteLength + 2);\n    let offset = 0;\n    const list = value.split('.');\n    for (let i = 0; i < list.length; i++) {\n        let encoded = stringToBytes(list[i]);\n        // if the length is > 255, make the encoded label value a labelhash\n        // this is compatible with the universal resolver\n        if (encoded.byteLength > 255)\n            encoded = stringToBytes(encodeLabelhash(labelhash(list[i])));\n        bytes[offset] = encoded.length;\n        bytes.set(encoded, offset + 1);\n        offset += encoded.length + 1;\n    }\n    if (bytes.byteLength !== offset + 1)\n        return bytes.slice(0, offset + 1);\n    return bytes;\n}\n//# sourceMappingURL=packetToBytes.js.map","/**\n * Retrieves and returns an action from the client (if exists), and falls\n * back to the tree-shakable action.\n *\n * Useful for extracting overridden actions from a client (ie. if a consumer\n * wants to override the `sendTransaction` implementation).\n */\nexport function getAction(client, action, \n// Some minifiers drop `Function.prototype.name` or can change function\n// names so that getting the name by reflection through `action.name` will\n// not work.\nname) {\n    return (params) => client[action.name]?.(params) ??\n        client[name]?.(params) ??\n        action(client, params);\n}\n//# sourceMappingURL=getAction.js.map","import { stringify } from '../utils/stringify.js';\nimport { BaseError } from './base.js';\nimport { getUrl } from './utils.js';\nexport class HttpRequestError extends BaseError {\n    constructor({ body, details, headers, status, url, }) {\n        super('HTTP request failed.', {\n            details,\n            metaMessages: [\n                status && `Status: ${status}`,\n                `URL: ${getUrl(url)}`,\n                body && `Request body: ${stringify(body)}`,\n            ].filter(Boolean),\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'HttpRequestError'\n        });\n        Object.defineProperty(this, \"body\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"headers\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"status\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"url\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.body = body;\n        this.headers = headers;\n        this.status = status;\n        this.url = url;\n    }\n}\nexport class WebSocketRequestError extends BaseError {\n    constructor({ body, details, url, }) {\n        super('WebSocket request failed.', {\n            details,\n            metaMessages: [`URL: ${getUrl(url)}`, `Request body: ${stringify(body)}`],\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'WebSocketRequestError'\n        });\n    }\n}\nexport class RpcRequestError extends BaseError {\n    constructor({ body, error, url, }) {\n        super('RPC Request failed.', {\n            cause: error,\n            details: error.message,\n            metaMessages: [`URL: ${getUrl(url)}`, `Request body: ${stringify(body)}`],\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'RpcRequestError'\n        });\n        Object.defineProperty(this, \"code\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.code = error.code;\n    }\n}\nexport class TimeoutError extends BaseError {\n    constructor({ body, url, }) {\n        super('The request took too long to respond.', {\n            details: 'The request timed out.',\n            metaMessages: [`URL: ${getUrl(url)}`, `Request body: ${stringify(body)}`],\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'TimeoutError'\n        });\n    }\n}\n//# sourceMappingURL=request.js.map","import { BaseError } from './base.js';\nimport { RpcRequestError } from './request.js';\nconst unknownErrorCode = -1;\nexport class RpcError extends BaseError {\n    constructor(cause, { code, docsPath, metaMessages, shortMessage }) {\n        super(shortMessage, {\n            cause,\n            docsPath,\n            metaMessages: metaMessages || cause?.metaMessages,\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'RpcError'\n        });\n        Object.defineProperty(this, \"code\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.name = cause.name;\n        this.code = (cause instanceof RpcRequestError ? cause.code : code ?? unknownErrorCode);\n    }\n}\nexport class ProviderRpcError extends RpcError {\n    constructor(cause, options) {\n        super(cause, options);\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'ProviderRpcError'\n        });\n        Object.defineProperty(this, \"data\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.data = options.data;\n    }\n}\nexport class ParseRpcError extends RpcError {\n    constructor(cause) {\n        super(cause, {\n            code: ParseRpcError.code,\n            shortMessage: 'Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'ParseRpcError'\n        });\n    }\n}\nObject.defineProperty(ParseRpcError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: -32700\n});\nexport class InvalidRequestRpcError extends RpcError {\n    constructor(cause) {\n        super(cause, {\n            code: InvalidRequestRpcError.code,\n            shortMessage: 'JSON is not a valid request object.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'InvalidRequestRpcError'\n        });\n    }\n}\nObject.defineProperty(InvalidRequestRpcError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: -32600\n});\nexport class MethodNotFoundRpcError extends RpcError {\n    constructor(cause) {\n        super(cause, {\n            code: MethodNotFoundRpcError.code,\n            shortMessage: 'The method does not exist / is not available.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'MethodNotFoundRpcError'\n        });\n    }\n}\nObject.defineProperty(MethodNotFoundRpcError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: -32601\n});\nexport class InvalidParamsRpcError extends RpcError {\n    constructor(cause) {\n        super(cause, {\n            code: InvalidParamsRpcError.code,\n            shortMessage: [\n                'Invalid parameters were provided to the RPC method.',\n                'Double check you have provided the correct parameters.',\n            ].join('\\n'),\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'InvalidParamsRpcError'\n        });\n    }\n}\nObject.defineProperty(InvalidParamsRpcError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: -32602\n});\nexport class InternalRpcError extends RpcError {\n    constructor(cause) {\n        super(cause, {\n            code: InternalRpcError.code,\n            shortMessage: 'An internal error was received.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'InternalRpcError'\n        });\n    }\n}\nObject.defineProperty(InternalRpcError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: -32603\n});\nexport class InvalidInputRpcError extends RpcError {\n    constructor(cause) {\n        super(cause, {\n            code: InvalidInputRpcError.code,\n            shortMessage: [\n                'Missing or invalid parameters.',\n                'Double check you have provided the correct parameters.',\n            ].join('\\n'),\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'InvalidInputRpcError'\n        });\n    }\n}\nObject.defineProperty(InvalidInputRpcError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: -32000\n});\nexport class ResourceNotFoundRpcError extends RpcError {\n    constructor(cause) {\n        super(cause, {\n            code: ResourceNotFoundRpcError.code,\n            shortMessage: 'Requested resource not found.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'ResourceNotFoundRpcError'\n        });\n    }\n}\nObject.defineProperty(ResourceNotFoundRpcError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: -32001\n});\nexport class ResourceUnavailableRpcError extends RpcError {\n    constructor(cause) {\n        super(cause, {\n            code: ResourceUnavailableRpcError.code,\n            shortMessage: 'Requested resource not available.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'ResourceUnavailableRpcError'\n        });\n    }\n}\nObject.defineProperty(ResourceUnavailableRpcError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: -32002\n});\nexport class TransactionRejectedRpcError extends RpcError {\n    constructor(cause) {\n        super(cause, {\n            code: TransactionRejectedRpcError.code,\n            shortMessage: 'Transaction creation failed.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'TransactionRejectedRpcError'\n        });\n    }\n}\nObject.defineProperty(TransactionRejectedRpcError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: -32003\n});\nexport class MethodNotSupportedRpcError extends RpcError {\n    constructor(cause) {\n        super(cause, {\n            code: MethodNotSupportedRpcError.code,\n            shortMessage: 'Method is not implemented.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'MethodNotSupportedRpcError'\n        });\n    }\n}\nObject.defineProperty(MethodNotSupportedRpcError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: -32004\n});\nexport class LimitExceededRpcError extends RpcError {\n    constructor(cause) {\n        super(cause, {\n            code: LimitExceededRpcError.code,\n            shortMessage: 'Request exceeds defined limit.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'LimitExceededRpcError'\n        });\n    }\n}\nObject.defineProperty(LimitExceededRpcError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: -32005\n});\nexport class JsonRpcVersionUnsupportedError extends RpcError {\n    constructor(cause) {\n        super(cause, {\n            code: JsonRpcVersionUnsupportedError.code,\n            shortMessage: 'Version of JSON-RPC protocol is not supported.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'JsonRpcVersionUnsupportedError'\n        });\n    }\n}\nObject.defineProperty(JsonRpcVersionUnsupportedError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: -32006\n});\nexport class UserRejectedRequestError extends ProviderRpcError {\n    constructor(cause) {\n        super(cause, {\n            code: UserRejectedRequestError.code,\n            shortMessage: 'User rejected the request.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'UserRejectedRequestError'\n        });\n    }\n}\nObject.defineProperty(UserRejectedRequestError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: 4001\n});\nexport class UnauthorizedProviderError extends ProviderRpcError {\n    constructor(cause) {\n        super(cause, {\n            code: UnauthorizedProviderError.code,\n            shortMessage: 'The requested method and/or account has not been authorized by the user.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'UnauthorizedProviderError'\n        });\n    }\n}\nObject.defineProperty(UnauthorizedProviderError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: 4100\n});\nexport class UnsupportedProviderMethodError extends ProviderRpcError {\n    constructor(cause) {\n        super(cause, {\n            code: UnsupportedProviderMethodError.code,\n            shortMessage: 'The Provider does not support the requested method.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'UnsupportedProviderMethodError'\n        });\n    }\n}\nObject.defineProperty(UnsupportedProviderMethodError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: 4200\n});\nexport class ProviderDisconnectedError extends ProviderRpcError {\n    constructor(cause) {\n        super(cause, {\n            code: ProviderDisconnectedError.code,\n            shortMessage: 'The Provider is disconnected from all chains.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'ProviderDisconnectedError'\n        });\n    }\n}\nObject.defineProperty(ProviderDisconnectedError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: 4900\n});\nexport class ChainDisconnectedError extends ProviderRpcError {\n    constructor(cause) {\n        super(cause, {\n            code: ChainDisconnectedError.code,\n            shortMessage: 'The Provider is not connected to the requested chain.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'ChainDisconnectedError'\n        });\n    }\n}\nObject.defineProperty(ChainDisconnectedError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: 4901\n});\nexport class SwitchChainError extends ProviderRpcError {\n    constructor(cause) {\n        super(cause, {\n            code: SwitchChainError.code,\n            shortMessage: 'An error occurred when attempting to switch chain.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'SwitchChainError'\n        });\n    }\n}\nObject.defineProperty(SwitchChainError, \"code\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: 4902\n});\nexport class UnknownRpcError extends RpcError {\n    constructor(cause) {\n        super(cause, {\n            shortMessage: 'An unknown RPC error occurred.',\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'UnknownRpcError'\n        });\n    }\n}\n//# sourceMappingURL=rpc.js.map","import { AbiDecodingZeroDataError } from '../../errors/abi.js';\nimport { BaseError } from '../../errors/base.js';\nimport { ContractFunctionExecutionError, ContractFunctionRevertedError, ContractFunctionZeroDataError, RawContractError, } from '../../errors/contract.js';\nimport { InternalRpcError } from '../../errors/rpc.js';\nconst EXECUTION_REVERTED_ERROR_CODE = 3;\nexport function getContractError(err, { abi, address, args, docsPath, functionName, sender, }) {\n    const { code, data, message, shortMessage } = (err instanceof RawContractError\n        ? err\n        : err instanceof BaseError\n            ? err.walk((err) => 'data' in err) || err.walk()\n            : {});\n    const cause = (() => {\n        if (err instanceof AbiDecodingZeroDataError)\n            return new ContractFunctionZeroDataError({ functionName });\n        if ([EXECUTION_REVERTED_ERROR_CODE, InternalRpcError.code].includes(code) &&\n            (data || message || shortMessage)) {\n            return new ContractFunctionRevertedError({\n                abi,\n                data: typeof data === 'object' ? data.data : data,\n                functionName,\n                message: shortMessage ?? message,\n            });\n        }\n        return err;\n    })();\n    return new ContractFunctionExecutionError(cause, {\n        abi,\n        args,\n        contractAddress: address,\n        docsPath,\n        functionName,\n        sender,\n    });\n}\n//# sourceMappingURL=getContractError.js.map","export const aggregate3Signature = '0x82ad56cb';\n//# sourceMappingURL=contract.js.map","import { CallExecutionError, } from '../../errors/contract.js';\nimport { UnknownNodeError } from '../../errors/node.js';\nimport { getNodeError, } from './getNodeError.js';\nexport function getCallError(err, { docsPath, ...args }) {\n    const cause = (() => {\n        const cause = getNodeError(err, args);\n        if (cause instanceof UnknownNodeError)\n            return err;\n        return cause;\n    })();\n    return new CallExecutionError(cause, {\n        docsPath,\n        ...args,\n    });\n}\n//# sourceMappingURL=getCallError.js.map","import { BaseError } from '../../errors/base.js';\nimport { ExecutionRevertedError, FeeCapTooHighError, FeeCapTooLowError, InsufficientFundsError, IntrinsicGasTooHighError, IntrinsicGasTooLowError, NonceMaxValueError, NonceTooHighError, NonceTooLowError, TipAboveFeeCapError, TransactionTypeNotSupportedError, UnknownNodeError, } from '../../errors/node.js';\nimport { RpcRequestError } from '../../errors/request.js';\nimport { InvalidInputRpcError, TransactionRejectedRpcError, } from '../../errors/rpc.js';\nexport function containsNodeError(err) {\n    return (err instanceof TransactionRejectedRpcError ||\n        err instanceof InvalidInputRpcError ||\n        (err instanceof RpcRequestError && err.code === ExecutionRevertedError.code));\n}\nexport function getNodeError(err, args) {\n    const message = (err.details || '').toLowerCase();\n    const executionRevertedError = err instanceof BaseError\n        ? err.walk((e) => e.code === ExecutionRevertedError.code)\n        : err;\n    if (executionRevertedError instanceof BaseError) {\n        return new ExecutionRevertedError({\n            cause: err,\n            message: executionRevertedError.details,\n        });\n    }\n    if (ExecutionRevertedError.nodeMessage.test(message))\n        return new ExecutionRevertedError({\n            cause: err,\n            message: err.details,\n        });\n    if (FeeCapTooHighError.nodeMessage.test(message))\n        return new FeeCapTooHighError({\n            cause: err,\n            maxFeePerGas: args?.maxFeePerGas,\n        });\n    if (FeeCapTooLowError.nodeMessage.test(message))\n        return new FeeCapTooLowError({\n            cause: err,\n            maxFeePerGas: args?.maxFeePerGas,\n        });\n    if (NonceTooHighError.nodeMessage.test(message))\n        return new NonceTooHighError({ cause: err, nonce: args?.nonce });\n    if (NonceTooLowError.nodeMessage.test(message))\n        return new NonceTooLowError({ cause: err, nonce: args?.nonce });\n    if (NonceMaxValueError.nodeMessage.test(message))\n        return new NonceMaxValueError({ cause: err, nonce: args?.nonce });\n    if (InsufficientFundsError.nodeMessage.test(message))\n        return new InsufficientFundsError({ cause: err });\n    if (IntrinsicGasTooHighError.nodeMessage.test(message))\n        return new IntrinsicGasTooHighError({ cause: err, gas: args?.gas });\n    if (IntrinsicGasTooLowError.nodeMessage.test(message))\n        return new IntrinsicGasTooLowError({ cause: err, gas: args?.gas });\n    if (TransactionTypeNotSupportedError.nodeMessage.test(message))\n        return new TransactionTypeNotSupportedError({ cause: err });\n    if (TipAboveFeeCapError.nodeMessage.test(message))\n        return new TipAboveFeeCapError({\n            cause: err,\n            maxFeePerGas: args?.maxFeePerGas,\n            maxPriorityFeePerGas: args?.maxPriorityFeePerGas,\n        });\n    return new UnknownNodeError({\n        cause: err,\n    });\n}\n//# sourceMappingURL=getNodeError.js.map","/**\n * @description Picks out the keys from `value` that exist in the formatter..\n */\nexport function extract(value_, { format }) {\n    if (!format)\n        return {};\n    const value = {};\n    function extract_(formatted) {\n        const keys = Object.keys(formatted);\n        for (const key of keys) {\n            if (key in value_)\n                value[key] = value_[key];\n            if (formatted[key] &&\n                typeof formatted[key] === 'object' &&\n                !Array.isArray(formatted[key]))\n                extract_(formatted[key]);\n        }\n    }\n    const formatted = format(value_ || {});\n    extract_(formatted);\n    return value;\n}\n//# sourceMappingURL=extract.js.map","const schedulerCache = /*#__PURE__*/ new Map();\nexport function createBatchScheduler({ fn, id, shouldSplitBatch, wait = 0, sort, }) {\n    const exec = async () => {\n        const scheduler = getScheduler();\n        flush();\n        const args = scheduler.map(({ args }) => args);\n        if (args.length === 0)\n            return;\n        fn(args)\n            .then((data) => {\n            if (sort && Array.isArray(data))\n                data.sort(sort);\n            for (let i = 0; i < scheduler.length; i++) {\n                const { pendingPromise } = scheduler[i];\n                pendingPromise.resolve?.([data[i], data]);\n            }\n        })\n            .catch((err) => {\n            for (let i = 0; i < scheduler.length; i++) {\n                const { pendingPromise } = scheduler[i];\n                pendingPromise.reject?.(err);\n            }\n        });\n    };\n    const flush = () => schedulerCache.delete(id);\n    const getBatchedArgs = () => getScheduler().map(({ args }) => args);\n    const getScheduler = () => schedulerCache.get(id) || [];\n    const setScheduler = (item) => schedulerCache.set(id, [...getScheduler(), item]);\n    return {\n        flush,\n        async schedule(args) {\n            const pendingPromise = {};\n            const promise = new Promise((resolve, reject) => {\n                pendingPromise.resolve = resolve;\n                pendingPromise.reject = reject;\n            });\n            const split = shouldSplitBatch?.([...getBatchedArgs(), args]);\n            if (split)\n                exec();\n            const hasActiveScheduler = getScheduler().length > 0;\n            if (hasActiveScheduler) {\n                setScheduler({ args, pendingPromise });\n                return promise;\n            }\n            setScheduler({ args, pendingPromise });\n            setTimeout(exec, wait);\n            return promise;\n        },\n    };\n}\n//# sourceMappingURL=createBatchScheduler.js.map","import { InvalidAddressError, } from '../errors/address.js';\nimport { InvalidBytesLengthError, } from '../errors/data.js';\nimport { AccountStateConflictError, StateAssignmentConflictError, } from '../errors/stateOverride.js';\nimport { isAddress } from './address/isAddress.js';\nimport { numberToHex } from './encoding/toHex.js';\nexport function serializeStateMapping(stateMapping) {\n    if (!stateMapping || stateMapping.length === 0)\n        return undefined;\n    return stateMapping.reduce((acc, { slot, value }) => {\n        if (slot.length !== 66)\n            throw new InvalidBytesLengthError({\n                size: slot.length,\n                targetSize: 66,\n                type: 'hex',\n            });\n        if (value.length !== 66)\n            throw new InvalidBytesLengthError({\n                size: value.length,\n                targetSize: 66,\n                type: 'hex',\n            });\n        acc[slot] = value;\n        return acc;\n    }, {});\n}\nexport function serializeAccountStateOverride(parameters) {\n    const { balance, nonce, state, stateDiff, code } = parameters;\n    const rpcAccountStateOverride = {};\n    if (code !== undefined)\n        rpcAccountStateOverride.code = code;\n    if (balance !== undefined)\n        rpcAccountStateOverride.balance = numberToHex(balance);\n    if (nonce !== undefined)\n        rpcAccountStateOverride.nonce = numberToHex(nonce);\n    if (state !== undefined)\n        rpcAccountStateOverride.state = serializeStateMapping(state);\n    if (stateDiff !== undefined) {\n        if (rpcAccountStateOverride.state)\n            throw new StateAssignmentConflictError();\n        rpcAccountStateOverride.stateDiff = serializeStateMapping(stateDiff);\n    }\n    return rpcAccountStateOverride;\n}\nexport function serializeStateOverride(parameters) {\n    if (!parameters)\n        return undefined;\n    const rpcStateOverride = {};\n    for (const { address, ...accountState } of parameters) {\n        if (!isAddress(address, { strict: false }))\n            throw new InvalidAddressError({ address });\n        if (rpcStateOverride[address])\n            throw new AccountStateConflictError({ address: address });\n        rpcStateOverride[address] = serializeAccountStateOverride(accountState);\n    }\n    return rpcStateOverride;\n}\n//# sourceMappingURL=stateOverride.js.map","import { parseAccount, } from '../../accounts/utils/parseAccount.js';\nimport { multicall3Abi } from '../../constants/abis.js';\nimport { aggregate3Signature } from '../../constants/contract.js';\nimport { BaseError } from '../../errors/base.js';\nimport { ChainDoesNotSupportContract, ClientChainNotConfiguredError, } from '../../errors/chain.js';\nimport { RawContractError, } from '../../errors/contract.js';\nimport { decodeFunctionResult, } from '../../utils/abi/decodeFunctionResult.js';\nimport { encodeFunctionData, } from '../../utils/abi/encodeFunctionData.js';\nimport { getChainContractAddress, } from '../../utils/chain/getChainContractAddress.js';\nimport { numberToHex, } from '../../utils/encoding/toHex.js';\nimport { getCallError, } from '../../utils/errors/getCallError.js';\nimport { extract } from '../../utils/formatters/extract.js';\nimport { formatTransactionRequest, } from '../../utils/formatters/transactionRequest.js';\nimport { createBatchScheduler, } from '../../utils/promise/createBatchScheduler.js';\nimport { serializeStateOverride, } from '../../utils/stateOverride.js';\nimport { assertRequest } from '../../utils/transaction/assertRequest.js';\n/**\n * Executes a new message call immediately without submitting a transaction to the network.\n *\n * - Docs: https://viem.sh/docs/actions/public/call\n * - JSON-RPC Methods: [`eth_call`](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_call)\n *\n * @param client - Client to use\n * @param parameters - {@link CallParameters}\n * @returns The call data. {@link CallReturnType}\n *\n * @example\n * import { createPublicClient, http } from 'viem'\n * import { mainnet } from 'viem/chains'\n * import { call } from 'viem/public'\n *\n * const client = createPublicClient({\n *   chain: mainnet,\n *   transport: http(),\n * })\n * const data = await call(client, {\n *   account: '0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266',\n *   data: '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',\n *   to: '0x70997970c51812dc3a010c7d01b50e0d17dc79c8',\n * })\n */\nexport async function call(client, args) {\n    const { account: account_ = client.account, batch = Boolean(client.batch?.multicall), blockNumber, blockTag = 'latest', accessList, blobs, data, gas, gasPrice, maxFeePerBlobGas, maxFeePerGas, maxPriorityFeePerGas, nonce, to, value, stateOverride, ...rest } = args;\n    const account = account_ ? parseAccount(account_) : undefined;\n    try {\n        assertRequest(args);\n        const blockNumberHex = blockNumber ? numberToHex(blockNumber) : undefined;\n        const block = blockNumberHex || blockTag;\n        const rpcStateOverride = serializeStateOverride(stateOverride);\n        const chainFormat = client.chain?.formatters?.transactionRequest?.format;\n        const format = chainFormat || formatTransactionRequest;\n        const request = format({\n            // Pick out extra data that might exist on the chain's transaction request type.\n            ...extract(rest, { format: chainFormat }),\n            from: account?.address,\n            accessList,\n            blobs,\n            data,\n            gas,\n            gasPrice,\n            maxFeePerBlobGas,\n            maxFeePerGas,\n            maxPriorityFeePerGas,\n            nonce,\n            to,\n            value,\n        });\n        if (batch && shouldPerformMulticall({ request }) && !rpcStateOverride) {\n            try {\n                return await scheduleMulticall(client, {\n                    ...request,\n                    blockNumber,\n                    blockTag,\n                });\n            }\n            catch (err) {\n                if (!(err instanceof ClientChainNotConfiguredError) &&\n                    !(err instanceof ChainDoesNotSupportContract))\n                    throw err;\n            }\n        }\n        const response = await client.request({\n            method: 'eth_call',\n            params: rpcStateOverride\n                ? [\n                    request,\n                    block,\n                    rpcStateOverride,\n                ]\n                : [request, block],\n        });\n        if (response === '0x')\n            return { data: undefined };\n        return { data: response };\n    }\n    catch (err) {\n        const data = getRevertErrorData(err);\n        const { offchainLookup, offchainLookupSignature } = await import('../../utils/ccip.js');\n        if (client.ccipRead !== false &&\n            data?.slice(0, 10) === offchainLookupSignature &&\n            to)\n            return { data: await offchainLookup(client, { data, to }) };\n        throw getCallError(err, {\n            ...args,\n            account,\n            chain: client.chain,\n        });\n    }\n}\n// We only want to perform a scheduled multicall if:\n// - The request has calldata,\n// - The request has a target address,\n// - The target address is not already the aggregate3 signature,\n// - The request has no other properties (`nonce`, `gas`, etc cannot be sent with a multicall).\nfunction shouldPerformMulticall({ request }) {\n    const { data, to, ...request_ } = request;\n    if (!data)\n        return false;\n    if (data.startsWith(aggregate3Signature))\n        return false;\n    if (!to)\n        return false;\n    if (Object.values(request_).filter((x) => typeof x !== 'undefined').length > 0)\n        return false;\n    return true;\n}\nasync function scheduleMulticall(client, args) {\n    const { batchSize = 1024, wait = 0 } = typeof client.batch?.multicall === 'object' ? client.batch.multicall : {};\n    const { blockNumber, blockTag = 'latest', data, multicallAddress: multicallAddress_, to, } = args;\n    let multicallAddress = multicallAddress_;\n    if (!multicallAddress) {\n        if (!client.chain)\n            throw new ClientChainNotConfiguredError();\n        multicallAddress = getChainContractAddress({\n            blockNumber,\n            chain: client.chain,\n            contract: 'multicall3',\n        });\n    }\n    const blockNumberHex = blockNumber ? numberToHex(blockNumber) : undefined;\n    const block = blockNumberHex || blockTag;\n    const { schedule } = createBatchScheduler({\n        id: `${client.uid}.${block}`,\n        wait,\n        shouldSplitBatch(args) {\n            const size = args.reduce((size, { data }) => size + (data.length - 2), 0);\n            return size > batchSize * 2;\n        },\n        fn: async (requests) => {\n            const calls = requests.map((request) => ({\n                allowFailure: true,\n                callData: request.data,\n                target: request.to,\n            }));\n            const calldata = encodeFunctionData({\n                abi: multicall3Abi,\n                args: [calls],\n                functionName: 'aggregate3',\n            });\n            const data = await client.request({\n                method: 'eth_call',\n                params: [\n                    {\n                        data: calldata,\n                        to: multicallAddress,\n                    },\n                    block,\n                ],\n            });\n            return decodeFunctionResult({\n                abi: multicall3Abi,\n                args: [calls],\n                functionName: 'aggregate3',\n                data: data || '0x',\n            });\n        },\n    });\n    const [{ returnData, success }] = await schedule({ data, to });\n    if (!success)\n        throw new RawContractError({ data: returnData });\n    if (returnData === '0x')\n        return { data: undefined };\n    return { data: returnData };\n}\nexport function getRevertErrorData(err) {\n    if (!(err instanceof BaseError))\n        return undefined;\n    const error = err.walk();\n    return typeof error?.data === 'object' ? error.data?.data : error.data;\n}\n//# sourceMappingURL=call.js.map","import { parseAccount, } from '../../accounts/utils/parseAccount.js';\nimport { InvalidAddressError, } from '../../errors/address.js';\nimport { FeeCapTooHighError, TipAboveFeeCapError, } from '../../errors/node.js';\nimport { FeeConflictError, } from '../../errors/transaction.js';\nimport { isAddress } from '../address/isAddress.js';\nexport function assertRequest(args) {\n    const { account: account_, gasPrice, maxFeePerGas, maxPriorityFeePerGas, to, } = args;\n    const account = account_ ? parseAccount(account_) : undefined;\n    if (account && !isAddress(account.address))\n        throw new InvalidAddressError({ address: account.address });\n    if (to && !isAddress(to))\n        throw new InvalidAddressError({ address: to });\n    if (typeof gasPrice !== 'undefined' &&\n        (typeof maxFeePerGas !== 'undefined' ||\n            typeof maxPriorityFeePerGas !== 'undefined'))\n        throw new FeeConflictError();\n    if (maxFeePerGas && maxFeePerGas > 2n ** 256n - 1n)\n        throw new FeeCapTooHighError({ maxFeePerGas });\n    if (maxPriorityFeePerGas &&\n        maxFeePerGas &&\n        maxPriorityFeePerGas > maxFeePerGas)\n        throw new TipAboveFeeCapError({ maxFeePerGas, maxPriorityFeePerGas });\n}\n//# sourceMappingURL=assertRequest.js.map","import { decodeFunctionResult, } from '../../utils/abi/decodeFunctionResult.js';\nimport { encodeFunctionData, } from '../../utils/abi/encodeFunctionData.js';\nimport { getContractError, } from '../../utils/errors/getContractError.js';\nimport { getAction } from '../../utils/getAction.js';\nimport { call } from './call.js';\n/**\n * Calls a read-only function on a contract, and returns the response.\n *\n * - Docs: https://viem.sh/docs/contract/readContract\n * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/contracts/reading-contracts\n *\n * A \"read-only\" function (constant function) on a Solidity contract is denoted by a `view` or `pure` keyword. They can only read the state of the contract, and cannot make any changes to it. Since read-only methods do not change the state of the contract, they do not require any gas to be executed, and can be called by any user without the need to pay for gas.\n *\n * Internally, uses a [Public Client](https://viem.sh/docs/clients/public) to call the [`call` action](https://viem.sh/docs/actions/public/call) with [ABI-encoded `data`](https://viem.sh/docs/contract/encodeFunctionData).\n *\n * @param client - Client to use\n * @param parameters - {@link ReadContractParameters}\n * @returns The response from the contract. Type is inferred. {@link ReadContractReturnType}\n *\n * @example\n * import { createPublicClient, http, parseAbi } from 'viem'\n * import { mainnet } from 'viem/chains'\n * import { readContract } from 'viem/contract'\n *\n * const client = createPublicClient({\n *   chain: mainnet,\n *   transport: http(),\n * })\n * const result = await readContract(client, {\n *   address: '0xFBA3912Ca04dd458c843e2EE08967fC04f3579c2',\n *   abi: parseAbi(['function balanceOf(address) view returns (uint256)']),\n *   functionName: 'balanceOf',\n *   args: ['0xA0Cf798816D4b9b9866b5330EEa46a18382f251e'],\n * })\n * // 424122n\n */\nexport async function readContract(client, parameters) {\n    const { abi, address, args, functionName, ...rest } = parameters;\n    const calldata = encodeFunctionData({\n        abi,\n        args,\n        functionName,\n    });\n    try {\n        const { data } = await getAction(client, call, 'call')({\n            ...rest,\n            data: calldata,\n            to: address,\n        });\n        return decodeFunctionResult({\n            abi,\n            args,\n            functionName,\n            data: data || '0x',\n        });\n    }\n    catch (error) {\n        throw getContractError(error, {\n            abi,\n            address,\n            args,\n            docsPath: '/docs/contract/readContract',\n            functionName,\n        });\n    }\n}\n//# sourceMappingURL=readContract.js.map","import { BaseError } from './base.js';\nexport class EnsAvatarInvalidMetadataError extends BaseError {\n    constructor({ data }) {\n        super('Unable to extract image from metadata. The metadata may be malformed or invalid.', {\n            metaMessages: [\n                '- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.',\n                '',\n                `Provided data: ${JSON.stringify(data)}`,\n            ],\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'EnsAvatarInvalidMetadataError'\n        });\n    }\n}\nexport class EnsAvatarInvalidNftUriError extends BaseError {\n    constructor({ reason }) {\n        super(`ENS NFT avatar URI is invalid. ${reason}`);\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'EnsAvatarInvalidNftUriError'\n        });\n    }\n}\nexport class EnsAvatarUriResolutionError extends BaseError {\n    constructor({ uri }) {\n        super(`Unable to resolve ENS avatar URI \"${uri}\". The URI may be malformed, invalid, or does not respond with a valid image.`);\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'EnsAvatarUriResolutionError'\n        });\n    }\n}\nexport class EnsAvatarUnsupportedNamespaceError extends BaseError {\n    constructor({ namespace }) {\n        super(`ENS NFT avatar namespace \"${namespace}\" is not supported. Must be \"erc721\" or \"erc1155\".`);\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'EnsAvatarUnsupportedNamespaceError'\n        });\n    }\n}\n//# sourceMappingURL=ens.js.map","import { readContract, } from '../../../actions/public/readContract.js';\nimport { EnsAvatarInvalidMetadataError, EnsAvatarInvalidNftUriError, EnsAvatarUnsupportedNamespaceError, EnsAvatarUriResolutionError, } from '../../../errors/ens.js';\nconst networkRegex = /(?<protocol>https?:\\/\\/[^\\/]*|ipfs:\\/|ipns:\\/|ar:\\/)?(?<root>\\/)?(?<subpath>ipfs\\/|ipns\\/)?(?<target>[\\w\\-.]+)(?<subtarget>\\/.*)?/;\nconst ipfsHashRegex = /^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\\/(?<target>[\\w\\-.]+))?(?<subtarget>\\/.*)?$/;\nconst base64Regex = /^data:([a-zA-Z\\-/+]*);base64,([^\"].*)/;\nconst dataURIRegex = /^data:([a-zA-Z\\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;\nexport async function isImageUri(uri) {\n    try {\n        const res = await fetch(uri, { method: 'HEAD' });\n        // retrieve content type header to check if content is image\n        if (res.status === 200) {\n            const contentType = res.headers.get('content-type');\n            return contentType?.startsWith('image/');\n        }\n        return false;\n    }\n    catch (error) {\n        // if error is not cors related then fail\n        if (typeof error === 'object' && typeof error.response !== 'undefined') {\n            return false;\n        }\n        // fail in NodeJS, since the error is not cors but any other network issue\n        // biome-ignore lint/suspicious/noPrototypeBuiltins:\n        if (!globalThis.hasOwnProperty('Image'))\n            return false;\n        // in case of cors, use image api to validate if given url is an actual image\n        return new Promise((resolve) => {\n            const img = new Image();\n            img.onload = () => {\n                resolve(true);\n            };\n            img.onerror = () => {\n                resolve(false);\n            };\n            img.src = uri;\n        });\n    }\n}\nexport function getGateway(custom, defaultGateway) {\n    if (!custom)\n        return defaultGateway;\n    if (custom.endsWith('/'))\n        return custom.slice(0, -1);\n    return custom;\n}\nexport function resolveAvatarUri({ uri, gatewayUrls, }) {\n    const isEncoded = base64Regex.test(uri);\n    if (isEncoded)\n        return { uri, isOnChain: true, isEncoded };\n    const ipfsGateway = getGateway(gatewayUrls?.ipfs, 'https://ipfs.io');\n    const arweaveGateway = getGateway(gatewayUrls?.arweave, 'https://arweave.net');\n    const networkRegexMatch = uri.match(networkRegex);\n    const { protocol, subpath, target, subtarget = '', } = networkRegexMatch?.groups || {};\n    const isIPNS = protocol === 'ipns:/' || subpath === 'ipns/';\n    const isIPFS = protocol === 'ipfs:/' || subpath === 'ipfs/' || ipfsHashRegex.test(uri);\n    if (uri.startsWith('http') && !isIPNS && !isIPFS) {\n        let replacedUri = uri;\n        if (gatewayUrls?.arweave)\n            replacedUri = uri.replace(/https:\\/\\/arweave.net/g, gatewayUrls?.arweave);\n        return { uri: replacedUri, isOnChain: false, isEncoded: false };\n    }\n    if ((isIPNS || isIPFS) && target) {\n        return {\n            uri: `${ipfsGateway}/${isIPNS ? 'ipns' : 'ipfs'}/${target}${subtarget}`,\n            isOnChain: false,\n            isEncoded: false,\n        };\n    }\n    if (protocol === 'ar:/' && target) {\n        return {\n            uri: `${arweaveGateway}/${target}${subtarget || ''}`,\n            isOnChain: false,\n            isEncoded: false,\n        };\n    }\n    let parsedUri = uri.replace(dataURIRegex, '');\n    if (parsedUri.startsWith('<svg')) {\n        // if svg, base64 encode\n        parsedUri = `data:image/svg+xml;base64,${btoa(parsedUri)}`;\n    }\n    if (parsedUri.startsWith('data:') || parsedUri.startsWith('{')) {\n        return {\n            uri: parsedUri,\n            isOnChain: true,\n            isEncoded: false,\n        };\n    }\n    throw new EnsAvatarUriResolutionError({ uri });\n}\nexport function getJsonImage(data) {\n    // validation check for json data, must include one of theses properties\n    if (typeof data !== 'object' ||\n        (!('image' in data) && !('image_url' in data) && !('image_data' in data))) {\n        throw new EnsAvatarInvalidMetadataError({ data });\n    }\n    return data.image || data.image_url || data.image_data;\n}\nexport async function getMetadataAvatarUri({ gatewayUrls, uri, }) {\n    try {\n        const res = await fetch(uri).then((res) => res.json());\n        const image = await parseAvatarUri({\n            gatewayUrls,\n            uri: getJsonImage(res),\n        });\n        return image;\n    }\n    catch {\n        throw new EnsAvatarUriResolutionError({ uri });\n    }\n}\nexport async function parseAvatarUri({ gatewayUrls, uri, }) {\n    const { uri: resolvedURI, isOnChain } = resolveAvatarUri({ uri, gatewayUrls });\n    if (isOnChain)\n        return resolvedURI;\n    // check if resolvedURI is an image, if it is return the url\n    const isImage = await isImageUri(resolvedURI);\n    if (isImage)\n        return resolvedURI;\n    throw new EnsAvatarUriResolutionError({ uri });\n}\nexport function parseNftUri(uri_) {\n    let uri = uri_;\n    // parse valid nft spec (CAIP-22/CAIP-29)\n    // @see: https://github.com/ChainAgnostic/CAIPs/tree/master/CAIPs\n    if (uri.startsWith('did:nft:')) {\n        // convert DID to CAIP\n        uri = uri.replace('did:nft:', '').replace(/_/g, '/');\n    }\n    const [reference, asset_namespace, tokenID] = uri.split('/');\n    const [eip_namespace, chainID] = reference.split(':');\n    const [erc_namespace, contractAddress] = asset_namespace.split(':');\n    if (!eip_namespace || eip_namespace.toLowerCase() !== 'eip155')\n        throw new EnsAvatarInvalidNftUriError({ reason: 'Only EIP-155 supported' });\n    if (!chainID)\n        throw new EnsAvatarInvalidNftUriError({ reason: 'Chain ID not found' });\n    if (!contractAddress)\n        throw new EnsAvatarInvalidNftUriError({\n            reason: 'Contract address not found',\n        });\n    if (!tokenID)\n        throw new EnsAvatarInvalidNftUriError({ reason: 'Token ID not found' });\n    if (!erc_namespace)\n        throw new EnsAvatarInvalidNftUriError({ reason: 'ERC namespace not found' });\n    return {\n        chainID: Number.parseInt(chainID),\n        namespace: erc_namespace.toLowerCase(),\n        contractAddress: contractAddress,\n        tokenID,\n    };\n}\nexport async function getNftTokenUri(client, { nft }) {\n    if (nft.namespace === 'erc721') {\n        return readContract(client, {\n            address: nft.contractAddress,\n            abi: [\n                {\n                    name: 'tokenURI',\n                    type: 'function',\n                    stateMutability: 'view',\n                    inputs: [{ name: 'tokenId', type: 'uint256' }],\n                    outputs: [{ name: '', type: 'string' }],\n                },\n            ],\n            functionName: 'tokenURI',\n            args: [BigInt(nft.tokenID)],\n        });\n    }\n    if (nft.namespace === 'erc1155') {\n        return readContract(client, {\n            address: nft.contractAddress,\n            abi: [\n                {\n                    name: 'uri',\n                    type: 'function',\n                    stateMutability: 'view',\n                    inputs: [{ name: '_id', type: 'uint256' }],\n                    outputs: [{ name: '', type: 'string' }],\n                },\n            ],\n            functionName: 'uri',\n            args: [BigInt(nft.tokenID)],\n        });\n    }\n    throw new EnsAvatarUnsupportedNamespaceError({ namespace: nft.namespace });\n}\n//# sourceMappingURL=utils.js.map","import { getJsonImage, getMetadataAvatarUri, getNftTokenUri, parseAvatarUri, parseNftUri, resolveAvatarUri, } from './utils.js';\n/*\n * @description Parses an ENS avatar record.\n *\n * @example\n * parseAvatarRecord('eip155:1/erc1155:0xb32979486938aa9694bfc898f35dbed459f44424/10063')\n * 'https://ipfs.io/ipfs/QmSP4nq9fnN9dAiCj42ug9Wa79rqmQerZXZch82VqpiH7U/image.gif'\n *\n * @see https://docs.ens.domains/web/avatars\n *\n */\nexport async function parseAvatarRecord(client, { gatewayUrls, record, }) {\n    if (/eip155:/i.test(record))\n        return parseNftAvatarUri(client, { gatewayUrls, record });\n    return parseAvatarUri({ uri: record, gatewayUrls });\n}\nasync function parseNftAvatarUri(client, { gatewayUrls, record, }) {\n    // parse NFT URI into properties\n    const nft = parseNftUri(record);\n    // fetch tokenURI from the NFT contract\n    const nftUri = await getNftTokenUri(client, { nft });\n    // resolve the URI from the fetched tokenURI\n    const { uri: resolvedNftUri, isOnChain, isEncoded, } = resolveAvatarUri({ uri: nftUri, gatewayUrls });\n    // if the resolved URI is on chain, return the data\n    if (isOnChain &&\n        (resolvedNftUri.includes('data:application/json;base64,') ||\n            resolvedNftUri.startsWith('{'))) {\n        const encodedJson = isEncoded\n            ? // if it is encoded, decode it\n                atob(resolvedNftUri.replace('data:application/json;base64,', ''))\n            : // if it isn't encoded assume it is a JSON string, but it could be anything (it will error if it is)\n                resolvedNftUri;\n        const decoded = JSON.parse(encodedJson);\n        return parseAvatarUri({ uri: getJsonImage(decoded), gatewayUrls });\n    }\n    let uriTokenId = nft.tokenID;\n    if (nft.namespace === 'erc1155')\n        uriTokenId = uriTokenId.replace('0x', '').padStart(64, '0');\n    return getMetadataAvatarUri({\n        gatewayUrls,\n        uri: resolvedNftUri.replace(/(?:0x)?{id}/, uriTokenId),\n    });\n}\n//# sourceMappingURL=parseAvatarRecord.js.map","import { textResolverAbi, universalResolverResolveAbi, } from '../../constants/abis.js';\nimport { decodeFunctionResult, } from '../../utils/abi/decodeFunctionResult.js';\nimport { encodeFunctionData, } from '../../utils/abi/encodeFunctionData.js';\nimport { getChainContractAddress, } from '../../utils/chain/getChainContractAddress.js';\nimport { toHex } from '../../utils/encoding/toHex.js';\nimport { isNullUniversalResolverError } from '../../utils/ens/errors.js';\nimport { namehash } from '../../utils/ens/namehash.js';\nimport { packetToBytes, } from '../../utils/ens/packetToBytes.js';\nimport { getAction } from '../../utils/getAction.js';\nimport { readContract, } from '../public/readContract.js';\n/**\n * Gets a text record for specified ENS name.\n *\n * - Docs: https://viem.sh/docs/ens/actions/getEnsResolver\n * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/ens\n *\n * Calls `resolve(bytes, bytes)` on ENS Universal Resolver Contract.\n *\n * Since ENS names prohibit certain forbidden characters (e.g. underscore) and have other validation rules, you likely want to [normalize ENS names](https://docs.ens.domains/contract-api-reference/name-processing#normalising-names) with [UTS-46 normalization](https://unicode.org/reports/tr46) before passing them to `getEnsAddress`. You can use the built-in [`normalize`](https://viem.sh/docs/ens/utilities/normalize) function for this.\n *\n * @param client - Client to use\n * @param parameters - {@link GetEnsTextParameters}\n * @returns Address for ENS resolver. {@link GetEnsTextReturnType}\n *\n * @example\n * import { createPublicClient, http } from 'viem'\n * import { mainnet } from 'viem/chains'\n * import { getEnsText, normalize } from 'viem/ens'\n *\n * const client = createPublicClient({\n *   chain: mainnet,\n *   transport: http(),\n * })\n * const twitterRecord = await getEnsText(client, {\n *   name: normalize('wevm.eth'),\n *   key: 'com.twitter',\n * })\n * // 'wagmi_sh'\n */\nexport async function getEnsText(client, { blockNumber, blockTag, name, key, gatewayUrls, strict, universalResolverAddress: universalResolverAddress_, }) {\n    let universalResolverAddress = universalResolverAddress_;\n    if (!universalResolverAddress) {\n        if (!client.chain)\n            throw new Error('client chain not configured. universalResolverAddress is required.');\n        universalResolverAddress = getChainContractAddress({\n            blockNumber,\n            chain: client.chain,\n            contract: 'ensUniversalResolver',\n        });\n    }\n    try {\n        const readContractParameters = {\n            address: universalResolverAddress,\n            abi: universalResolverResolveAbi,\n            functionName: 'resolve',\n            args: [\n                toHex(packetToBytes(name)),\n                encodeFunctionData({\n                    abi: textResolverAbi,\n                    functionName: 'text',\n                    args: [namehash(name), key],\n                }),\n            ],\n            blockNumber,\n            blockTag,\n        };\n        const readContractAction = getAction(client, readContract, 'readContract');\n        const res = gatewayUrls\n            ? await readContractAction({\n                ...readContractParameters,\n                args: [...readContractParameters.args, gatewayUrls],\n            })\n            : await readContractAction(readContractParameters);\n        if (res[0] === '0x')\n            return null;\n        const record = decodeFunctionResult({\n            abi: textResolverAbi,\n            functionName: 'text',\n            data: res[0],\n        });\n        return record === '' ? null : record;\n    }\n    catch (err) {\n        if (strict)\n            throw err;\n        if (isNullUniversalResolverError(err, 'resolve'))\n            return null;\n        throw err;\n    }\n}\n//# sourceMappingURL=getEnsText.js.map","import { ens_normalize } from '@adraffy/ens-normalize';\n/**\n * @description Normalizes ENS name according to ENSIP-15.\n *\n * @example\n * normalize('wevm.eth')\n * 'wevm.eth'\n *\n * @see https://docs.ens.domains/contract-api-reference/name-processing#normalising-names\n * @see https://github.com/ensdomains/docs/blob/9edf9443de4333a0ea7ec658a870672d5d180d53/ens-improvement-proposals/ensip-15-normalization-standard.md\n */\nexport function normalize(name) {\n    return ens_normalize(name);\n}\n//# sourceMappingURL=normalize.js.map","import { addressResolverAbi, universalResolverResolveAbi, } from '../../constants/abis.js';\nimport { decodeFunctionResult, } from '../../utils/abi/decodeFunctionResult.js';\nimport { encodeFunctionData, } from '../../utils/abi/encodeFunctionData.js';\nimport { getChainContractAddress, } from '../../utils/chain/getChainContractAddress.js';\nimport { trim } from '../../utils/data/trim.js';\nimport { toHex } from '../../utils/encoding/toHex.js';\nimport { isNullUniversalResolverError } from '../../utils/ens/errors.js';\nimport { namehash } from '../../utils/ens/namehash.js';\nimport { packetToBytes, } from '../../utils/ens/packetToBytes.js';\nimport { getAction } from '../../utils/getAction.js';\nimport { readContract, } from '../public/readContract.js';\n/**\n * Gets address for ENS name.\n *\n * - Docs: https://viem.sh/docs/ens/actions/getEnsAddress\n * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/ens\n *\n * Calls `resolve(bytes, bytes)` on ENS Universal Resolver Contract.\n *\n * Since ENS names prohibit certain forbidden characters (e.g. underscore) and have other validation rules, you likely want to [normalize ENS names](https://docs.ens.domains/contract-api-reference/name-processing#normalising-names) with [UTS-46 normalization](https://unicode.org/reports/tr46) before passing them to `getEnsAddress`. You can use the built-in [`normalize`](https://viem.sh/docs/ens/utilities/normalize) function for this.\n *\n * @param client - Client to use\n * @param parameters - {@link GetEnsAddressParameters}\n * @returns Address for ENS name or `null` if not found. {@link GetEnsAddressReturnType}\n *\n * @example\n * import { createPublicClient, http } from 'viem'\n * import { mainnet } from 'viem/chains'\n * import { getEnsAddress, normalize } from 'viem/ens'\n *\n * const client = createPublicClient({\n *   chain: mainnet,\n *   transport: http(),\n * })\n * const ensAddress = await getEnsAddress(client, {\n *   name: normalize('wevm.eth'),\n * })\n * // '0xd2135CfB216b74109775236E36d4b433F1DF507B'\n */\nexport async function getEnsAddress(client, { blockNumber, blockTag, coinType, name, gatewayUrls, strict, universalResolverAddress: universalResolverAddress_, }) {\n    let universalResolverAddress = universalResolverAddress_;\n    if (!universalResolverAddress) {\n        if (!client.chain)\n            throw new Error('client chain not configured. universalResolverAddress is required.');\n        universalResolverAddress = getChainContractAddress({\n            blockNumber,\n            chain: client.chain,\n            contract: 'ensUniversalResolver',\n        });\n    }\n    try {\n        const functionData = encodeFunctionData({\n            abi: addressResolverAbi,\n            functionName: 'addr',\n            ...(coinType != null\n                ? { args: [namehash(name), BigInt(coinType)] }\n                : { args: [namehash(name)] }),\n        });\n        const readContractParameters = {\n            address: universalResolverAddress,\n            abi: universalResolverResolveAbi,\n            functionName: 'resolve',\n            args: [toHex(packetToBytes(name)), functionData],\n            blockNumber,\n            blockTag,\n        };\n        const readContractAction = getAction(client, readContract, 'readContract');\n        const res = gatewayUrls\n            ? await readContractAction({\n                ...readContractParameters,\n                args: [...readContractParameters.args, gatewayUrls],\n            })\n            : await readContractAction(readContractParameters);\n        if (res[0] === '0x')\n            return null;\n        const address = decodeFunctionResult({\n            abi: addressResolverAbi,\n            args: coinType != null ? [namehash(name), BigInt(coinType)] : undefined,\n            functionName: 'addr',\n            data: res[0],\n        });\n        if (address === '0x')\n            return null;\n        if (trim(address) === '0x00')\n            return null;\n        return address;\n    }\n    catch (err) {\n        if (strict)\n            throw err;\n        if (isNullUniversalResolverError(err, 'resolve'))\n            return null;\n        throw err;\n    }\n}\n//# sourceMappingURL=getEnsAddress.js.map","import { parseAvatarRecord, } from '../../utils/ens/avatar/parseAvatarRecord.js';\nimport { getAction } from '../../utils/getAction.js';\nimport { getEnsText, } from './getEnsText.js';\n/**\n * Gets the avatar of an ENS name.\n *\n * - Docs: https://viem.sh/docs/ens/actions/getEnsAvatar\n * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/ens\n *\n * Calls [`getEnsText`](https://viem.sh/docs/ens/actions/getEnsText) with `key` set to `'avatar'`.\n *\n * Since ENS names prohibit certain forbidden characters (e.g. underscore) and have other validation rules, you likely want to [normalize ENS names](https://docs.ens.domains/contract-api-reference/name-processing#normalising-names) with [UTS-46 normalization](https://unicode.org/reports/tr46) before passing them to `getEnsAddress`. You can use the built-in [`normalize`](https://viem.sh/docs/ens/utilities/normalize) function for this.\n *\n * @param client - Client to use\n * @param parameters - {@link GetEnsAvatarParameters}\n * @returns Avatar URI or `null` if not found. {@link GetEnsAvatarReturnType}\n *\n * @example\n * import { createPublicClient, http } from 'viem'\n * import { mainnet } from 'viem/chains'\n * import { getEnsAvatar, normalize } from 'viem/ens'\n *\n * const client = createPublicClient({\n *   chain: mainnet,\n *   transport: http(),\n * })\n * const ensAvatar = await getEnsAvatar(client, {\n *   name: normalize('wevm.eth'),\n * })\n * // 'https://ipfs.io/ipfs/Qma8mnp6xV3J2cRNf3mTth5C8nV11CAnceVinc3y8jSbio'\n */\nexport async function getEnsAvatar(client, { blockNumber, blockTag, assetGatewayUrls, name, gatewayUrls, strict, universalResolverAddress, }) {\n    const record = await getAction(client, getEnsText, 'getEnsText')({\n        blockNumber,\n        blockTag,\n        key: 'avatar',\n        name,\n        universalResolverAddress,\n        gatewayUrls,\n        strict,\n    });\n    if (!record)\n        return null;\n    try {\n        return await parseAvatarRecord(client, {\n            record,\n            gatewayUrls: assetGatewayUrls,\n        });\n    }\n    catch {\n        return null;\n    }\n}\n//# sourceMappingURL=getEnsAvatar.js.map","import { universalResolverReverseAbi } from '../../constants/abis.js';\nimport { getChainContractAddress, } from '../../utils/chain/getChainContractAddress.js';\nimport { toHex } from '../../utils/encoding/toHex.js';\nimport { isNullUniversalResolverError } from '../../utils/ens/errors.js';\nimport { packetToBytes, } from '../../utils/ens/packetToBytes.js';\nimport { getAction } from '../../utils/getAction.js';\nimport { readContract, } from '../public/readContract.js';\n/**\n * Gets primary name for specified address.\n *\n * - Docs: https://viem.sh/docs/ens/actions/getEnsName\n * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/ens\n *\n * Calls `reverse(bytes)` on ENS Universal Resolver Contract to \"reverse resolve\" the address to the primary ENS name.\n *\n * @param client - Client to use\n * @param parameters - {@link GetEnsNameParameters}\n * @returns Name or `null` if not found. {@link GetEnsNameReturnType}\n *\n * @example\n * import { createPublicClient, http } from 'viem'\n * import { mainnet } from 'viem/chains'\n * import { getEnsName } from 'viem/ens'\n *\n * const client = createPublicClient({\n *   chain: mainnet,\n *   transport: http(),\n * })\n * const ensName = await getEnsName(client, {\n *   address: '0xd2135CfB216b74109775236E36d4b433F1DF507B',\n * })\n * // 'wevm.eth'\n */\nexport async function getEnsName(client, { address, blockNumber, blockTag, gatewayUrls, strict, universalResolverAddress: universalResolverAddress_, }) {\n    let universalResolverAddress = universalResolverAddress_;\n    if (!universalResolverAddress) {\n        if (!client.chain)\n            throw new Error('client chain not configured. universalResolverAddress is required.');\n        universalResolverAddress = getChainContractAddress({\n            blockNumber,\n            chain: client.chain,\n            contract: 'ensUniversalResolver',\n        });\n    }\n    const reverseNode = `${address.toLowerCase().substring(2)}.addr.reverse`;\n    try {\n        const readContractParameters = {\n            address: universalResolverAddress,\n            abi: universalResolverReverseAbi,\n            functionName: 'reverse',\n            args: [toHex(packetToBytes(reverseNode))],\n            blockNumber,\n            blockTag,\n        };\n        const readContractAction = getAction(client, readContract, 'readContract');\n        const [name, resolvedAddress] = gatewayUrls\n            ? await readContractAction({\n                ...readContractParameters,\n                args: [...readContractParameters.args, gatewayUrls],\n            })\n            : await readContractAction(readContractParameters);\n        if (address.toLowerCase() !== resolvedAddress.toLowerCase())\n            return null;\n        return name;\n    }\n    catch (err) {\n        if (strict)\n            throw err;\n        if (isNullUniversalResolverError(err, 'reverse'))\n            return null;\n        throw err;\n    }\n}\n//# sourceMappingURL=getEnsName.js.map","import { getChainContractAddress, } from '../../utils/chain/getChainContractAddress.js';\nimport { toHex } from '../../utils/encoding/toHex.js';\nimport { packetToBytes, } from '../../utils/ens/packetToBytes.js';\nimport { getAction } from '../../utils/getAction.js';\nimport { readContract, } from '../public/readContract.js';\n/**\n * Gets resolver for ENS name.\n *\n * - Docs: https://viem.sh/docs/ens/actions/getEnsResolver\n * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/ens\n *\n * Calls `findResolver(bytes)` on ENS Universal Resolver Contract to retrieve the resolver of an ENS name.\n *\n * Since ENS names prohibit certain forbidden characters (e.g. underscore) and have other validation rules, you likely want to [normalize ENS names](https://docs.ens.domains/contract-api-reference/name-processing#normalising-names) with [UTS-46 normalization](https://unicode.org/reports/tr46) before passing them to `getEnsAddress`. You can use the built-in [`normalize`](https://viem.sh/docs/ens/utilities/normalize) function for this.\n *\n * @param client - Client to use\n * @param parameters - {@link GetEnsResolverParameters}\n * @returns Address for ENS resolver. {@link GetEnsResolverReturnType}\n *\n * @example\n * import { createPublicClient, http } from 'viem'\n * import { mainnet } from 'viem/chains'\n * import { getEnsResolver, normalize } from 'viem/ens'\n *\n * const client = createPublicClient({\n *   chain: mainnet,\n *   transport: http(),\n * })\n * const resolverAddress = await getEnsResolver(client, {\n *   name: normalize('wevm.eth'),\n * })\n * // '0x4976fb03C32e5B8cfe2b6cCB31c09Ba78EBaBa41'\n */\nexport async function getEnsResolver(client, { blockNumber, blockTag, name, universalResolverAddress: universalResolverAddress_, }) {\n    let universalResolverAddress = universalResolverAddress_;\n    if (!universalResolverAddress) {\n        if (!client.chain)\n            throw new Error('client chain not configured. universalResolverAddress is required.');\n        universalResolverAddress = getChainContractAddress({\n            blockNumber,\n            chain: client.chain,\n            contract: 'ensUniversalResolver',\n        });\n    }\n    const [resolverAddress] = await getAction(client, readContract, 'readContract')({\n        address: universalResolverAddress,\n        abi: [\n            {\n                inputs: [{ type: 'bytes' }],\n                name: 'findResolver',\n                outputs: [{ type: 'address' }, { type: 'bytes32' }],\n                stateMutability: 'view',\n                type: 'function',\n            },\n        ],\n        functionName: 'findResolver',\n        args: [toHex(packetToBytes(name))],\n        blockNumber,\n        blockTag,\n    });\n    return resolverAddress;\n}\n//# sourceMappingURL=getEnsResolver.js.map"],"names":["formatEther","wei","unit","arguments","length","undefined","formatUnits","etherUnits","FENCED","Map","read_compressed_payload","s","v","pos","read_payload","bytes","u16","symbol_count","total","acc","i","push","skip","pos_payload","read_width","read_buffer","read_bit","FULL","HALF","QRTR","MASK","register","symbols","low","range","value","Math","floor","start","end","mid","a","b","offset","map","x","decode_arithmetic","lookup","forEach","c","charCodeAt","n","ret","Uint8Array","width","carry","unsafe_atob","signed","read_deltas","next","Array","read_sorted","prev","read_sorted_arrays","read_array_while","read_mapped","w","read_linear_table","read_replacement_table","flat","read_transposed","m","fill","j","dx","dy","vN","flatMap","ys","_","j_dy","y","slice","quote_cp","cp","toString","toUpperCase","padStart","hex_cp","str_from_cps","cps","len","String","fromCodePoint","buf","join","compare_arrays","S0","L0","V0","T0","T_COUNT","N_COUNT","V_COUNT","unpack_cc","packed","unpack_cp","SHIFTED_RANK","EXCLUSIONS","DECOMP","RECOMP","is_hangul","compose_pair","recomp","get","decomposed","r","Set","has","bucket","set","reverse","init$1","check_order","add","cc","s_index","v_index","t_index","mapped","pop","prev_cc","tmp","nfd","nfc","stack","prev_cp","composed","composed_from_decomposed","STOP_CH","Array_from","from","group_has_cp","g","P","Q","Emoji","is_emoji","MAPPED","IGNORED","CM","NSM","ESCAPE","GROUPS","WHOLE_VALID","WHOLE_MAP","VALID","EMOJI_LIST","EMOJI_ROOT","init","read_sorted_array","read_sorted_set","chunks","unrestricted","read_chunked","concat","N","R","M","wholes","sort","d","V","values","recs","gs","filter","rec","find","_ref2","G","some","union","complement","multi","add_to_union","sorted","expand","_ref","saved","S","B","br","decode","read_trie","node","child","quoted_cp","should_escape","bidi_qq","safe_str_from_cps","quoter","ens_normalize","name","split","_ref3","input","error","output","msg","message","Error","flatten","nf","ef","label","codePointAt","explode_cp","info","type","tokens","chars","emoji","consume_emoji_reversed","error_disallowed","tokens_from_str","token_count","norm","lastIndexOf","check_leading_underscore","every","check_label_extension","error_placement","last","match","check_fenced","unique","groups","error_group_member","determine_group","e","k","check_group","group","maker","shared","whole","check_whole","err","filter_fe0f","quoted","gg","where","eaten","multicall3Abi","inputs","components","outputs","stateMutability","universalResolverErrors","universalResolverResolveAbi","universalResolverReverseAbi","textResolverAbi","addressResolverAbi","formatAbiItem$1","abiItem","includeName","InvalidDefinitionTypeError","formatAbiParams","params","param","_ref4","startsWith","formatAbiParam","AbiDecodingDataSizeTooSmallError","BaseError","constructor","_ref5","data","size","super","metaMessages","Object","defineProperty","this","enumerable","configurable","writable","AbiDecodingZeroDataError","AbiEncodingArrayLengthMismatchError","_ref6","expectedLength","givenLength","AbiEncodingBytesSizeMismatchError","_ref7","expectedSize","AbiEncodingLengthMismatchError","_ref8","AbiErrorSignatureNotFoundError","signature","_ref9","docsPath","AbiFunctionNotFoundError","functionName","AbiFunctionOutputsNotFoundError","_ref10","AbiItemAmbiguityError","InvalidAbiEncodingTypeError","_ref11","InvalidAbiDecodingTypeError","_ref12","InvalidArrayError","bytesToBigInt","opts","assertSize","hex","bytesToHex","hexToBigInt","bytesToBool","bytes_","trim","InvalidBytesBooleanError","Boolean","bytesToNumber","hexToNumber","encodeAbiParameters","preparedParams","_ref13","prepareParam","prepareParams","encodeParams","_ref14","arrayComponents","getArrayComponents","_ref15","dynamic","isArray","dynamicChild","preparedParam","numberToHex","encoded","_ref16","encodeArray","_ref19","param_","_ref20","encodeTuple","isAddress","InvalidAddressError","address","padHex","toLowerCase","encodeAddress","boolToHex","encodeBool","_ref18","encodeNumber","_ref17","paramSize","bytesSize","value_","dir","ceil","Number","parseInt","encodeBytes","hexValue","stringToHex","partsLength","parts","encodeString","staticSize","staticParams","dynamicParams","dynamicSize","matches","decodeAbiParameters","hexToBytes","cursor","createCursor","consumed","setPosition","consumed_","decodeParameter","staticPosition","_ref21","_ref22","readBytes","sizeOfOffset","startOfData","sizeOfLength","hasDynamicChild","decodeArray","_ref24","hasUnnamedChild","_ref25","component","decodeTuple","checksumAddress","sliceBytes","decodeAddress","decodeBool","_ref23","decodeBytes","decodeNumber","_ref26","TextDecoder","bytesToString","decodeString","endsWith","hashSignature","sig","keccak256","toBytes","tupleRegex","formatAbiParameter","abiParameter","test","result","regex","string","exec","execTyped","array","indexed","formatAbiParameters","abiParameters","toSignature","def","active","current","level","valid","char","includes","normalizeSignature","toSignatureHash","fn","toEventSelector","toFunctionSelector","getAbiItem","parameters","abi","args","isSelector","isHex","strict","abiItems","matchedAbiItem","matched","arg","index","isArgOfType","ambiguousTypes","getAmbiguousTypes","argType","abiParameterType","replace","sourceParameters","targetParameters","parameterIndex","sourceParameter","targetParameter","types","docsPath$1","decodeFunctionResult","item","encodeFunctionData","prepareEncodeFunctionData","concatHex","getChainContractAddress","_ref27","blockNumber","chain","contract","contracts","ChainDoesNotSupportContract","blockCreated","panicReasons","solidityError","solidityPanic","parseAccount","account","decodeErrorResult","errorName","stringify","replacer","space","JSON","key","formatAbiItemWithArgs","_ref28","includeFunctionName","AccountStateConflictError","_ref29","StateAssignmentConflictError","prettyStateMapping","stateMapping","reduce","pretty","_ref30","slot","CallExecutionError","cause","_ref32","account_","gas","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","stateOverride","prettyArgs","prettyPrint","nativeCurrency","symbol","formatGwei","_ref31","state","val","balance","code","stateDiff","prettyStateOverride","shortMessage","ContractFunctionExecutionError","_ref33","contractAddress","sender","formattedArgs","functionWithParams","getContractAddress","function","keys","ContractFunctionRevertedError","_ref34","decodedData","reason","errorArgs","firstArg","errorWithParams","ContractFunctionZeroDataError","_ref35","RawContractError","_ref36","isNullUniversalResolverError","callType","walk","encodedLabelToLabelhash","indexOf","hash","namehash","labels","hashFromEncodedLabel","hashed","stringToBytes","encodeLabelhash","labelhash","packetToBytes","packet","byteLength","list","getAction","client","action","HttpRequestError","_ref37","body","details","headers","status","url","getUrl","RpcRequestError","_ref38","RpcError","_ref39","InternalRpcError","EXECUTION_REVERTED_ERROR_CODE","aggregate3Signature","getCallError","_ref41","executionRevertedError","ExecutionRevertedError","nodeMessage","FeeCapTooHighError","FeeCapTooLowError","NonceTooHighError","NonceTooLowError","NonceMaxValueError","InsufficientFundsError","IntrinsicGasTooHighError","IntrinsicGasTooLowError","TransactionTypeNotSupportedError","TipAboveFeeCapError","UnknownNodeError","getNodeError","extract","_ref42","format","extract_","formatted","schedulerCache","serializeStateMapping","_ref46","InvalidBytesLengthError","targetSize","serializeAccountStateOverride","rpcAccountStateOverride","async","call","batch","multicall","blockTag","accessList","blobs","maxFeePerBlobGas","rest","FeeConflictError","assertRequest","block","rpcStateOverride","accountState","serializeStateOverride","chainFormat","formatters","transactionRequest","request","formatTransactionRequest","_ref47","request_","shouldPerformMulticall","batchSize","wait","multicallAddress","multicallAddress_","ClientChainNotConfiguredError","blockNumberHex","schedule","_ref43","id","shouldSplitBatch","scheduler","getScheduler","flush","_ref44","then","pendingPromise","resolve","catch","reject","delete","setScheduler","promise","Promise","_ref45","setTimeout","createBatchScheduler","uid","_ref48","calls","requests","allowFailure","callData","target","calldata","method","returnData","success","scheduleMulticall","response","getRevertErrorData","offchainLookup","offchainLookupSignature","ccipRead","readContract","_ref40","getContractError","EnsAvatarInvalidMetadataError","_ref50","EnsAvatarInvalidNftUriError","_ref51","EnsAvatarUriResolutionError","_ref52","uri","EnsAvatarUnsupportedNamespaceError","_ref53","namespace","networkRegex","ipfsHashRegex","base64Regex","dataURIRegex","getGateway","custom","defaultGateway","resolveAvatarUri","_ref54","gatewayUrls","isEncoded","isOnChain","ipfsGateway","ipfs","arweaveGateway","arweave","networkRegexMatch","protocol","subpath","subtarget","isIPNS","isIPFS","replacedUri","parsedUri","btoa","getJsonImage","image","image_url","image_data","parseAvatarUri","_ref56","resolvedURI","isImage","res","fetch","contentType","globalThis","hasOwnProperty","img","Image","onload","onerror","src","isImageUri","parseAvatarRecord","_ref58","record","_ref59","nft","uri_","reference","asset_namespace","tokenID","eip_namespace","chainID","erc_namespace","parseNftUri","nftUri","_ref57","BigInt","getNftTokenUri","resolvedNftUri","encodedJson","atob","parse","uriTokenId","_ref55","json","getMetadataAvatarUri","parseNftAvatarUri","getEnsText","_ref60","universalResolverAddress","universalResolverAddress_","readContractParameters","toHex","readContractAction","_ref49","coinType","functionData","_ref61","assetGatewayUrls","_ref62","reverseNode","substring","resolvedAddress","_ref63","resolverAddress"],"sourceRoot":""}